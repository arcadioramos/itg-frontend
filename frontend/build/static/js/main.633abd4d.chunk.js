(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{213:function(e,t,a){},31:function(e,t,a){},382:function(e,t){},400:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(27),i=a.n(n),r=(a(213),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,438)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),c(e),s(e),n(e),i(e)}))}),o=a(8),l=a(24),j=a.p+"static/media/logo_tecnm.93f36dfc.png",d=a.p+"static/media/logo_sonora.39f1dc19.png",u=a(0),b=function(){return Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("img",{id:"logoTec",src:j,alt:"logoTec"}),Object(u.jsx)("img",{id:"logoSonora",src:d,alt:"logoSonora"})]})},O=a(3),m=a(67),h=a(58),x=a(13),f=a(53),g=a(4),p=a.n(g),v=(a(44),a(31),function(){var e=Object(c.useState)(0),t=Object(O.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)([]),i=Object(O.a)(n,2),r=i[0],j=i[1],d=Object(c.useState)(0),b=Object(O.a)(d,2),g=b[0],v=b[1],N=Object(c.useState)([]),C=Object(O.a)(N,2),S=C[0],w=C[1],k=Object(c.useState)(0),y=Object(O.a)(k,2),F=y[0],z=y[1],E=Object(c.useState)([]),T=Object(O.a)(E,2),I=T[0],D=T[1],A=Object(c.useState)(0),q=Object(O.a)(A,2),P=q[0],L=(q[1],Object(c.useState)([])),R=Object(O.a)(L,2),M=R[0],G=R[1],B=Object(c.useState)(0),_=Object(O.a)(B,2),H=_[0],Y=_[1],K=Object(c.useState)([]),V=Object(O.a)(K,2),$=V[0],J=V[1],Q=Object(c.useState)(!1),U=Object(O.a)(Q,2),W=U[0],X=U[1],Z=Object(l.f)();p.a.defaults.withCredentials=!0,Object(c.useEffect)((function(){p.a.get("/getCarreras").then((function(e){j(e.data)}))}),[a]),Object(c.useEffect)((function(){p.a.get("/getServicio").then((function(e){w(e.data),console.log(e.data)}))}),[g]),Object(c.useEffect)((function(){p.a.get("/getAlumnos").then((function(e){D(e.data),console.log(e.data)}))}),[F]),Object(c.useEffect)((function(){p.a.get("/getMoodle").then((function(e){J(e.data)}))}),[H]),Object(c.useEffect)((function(){p.a.get("/getInstitucion").then((function(e){G(e.data),console.log(e.data)}))}),[P]),Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),X(!0)):console.log("no estoy autorizado"+e.data.authorized)}))}),[]);return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(m.a,{bg:"light",expand:"lg",children:[Object(u.jsx)(m.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(u.jsxs)(m.a.Collapse,{id:"basic-navbar-nav",children:[Object(u.jsxs)(h.a,{className:"mr-auto",children:[Object(u.jsx)(h.a.Link,{onClick:function(e,t){e.preventDefault(),Z.push("/")},children:"Inicio"}),Object(u.jsx)(f.a,{title:"Instituci\xf3n",id:"basic-nav-dropdown",onClick:function(){return s((function(e){return e+1}))},children:M&&M.map((function(e){return Object(u.jsx)(f.a.Item,{children:Object(u.jsx)(o.b,{to:"/institucionindividual/".concat(e.id),children:e.titulo})})}))}),Object(u.jsx)(f.a,{title:"Oferta acad\xe9mica",id:"basic-nav-dropdown",onClick:function(){return s((function(e){return e+1}))},children:r&&r.map((function(e){return Object(u.jsx)(f.a.Item,{children:Object(u.jsx)(o.b,{to:"/ofertaAcademica/".concat(e.id),children:e.licenciatura})})}))}),Object(u.jsx)(f.a,{title:"Alumnos",id:"basic-nav-dropdown",onClick:function(){return z((function(e){return e+1}))},children:I&&I.map((function(e){return Object(u.jsx)(f.a.Item,{children:Object(u.jsx)(o.b,{to:"/alumnosindividual/".concat(e.id),children:e.titulo})})}))}),Object(u.jsx)(f.a,{title:"Moodle",id:"basic-nav-dropdown",onClick:function(){return Y((function(e){return e+1}))},children:$&&$.map((function(e){return Object(u.jsx)(f.a.Item,{onClick:function(t){return function(e,t){e.preventDefault(),window.open(t,"_blank")}(t,e.servidor)},children:e.titulo})}))}),Object(u.jsx)(f.a,{title:"Servicios",id:"basic-nav-dropdown",onClick:function(){return v((function(e){return e+1}))},children:S&&S.map((function(e){return Object(u.jsx)(f.a.Item,{children:Object(u.jsx)(o.b,{to:"/serviciosindividual/".concat(e.id),children:e.titulo})})}))})]}),W&&Object(u.jsx)(x.a,{variant:"outline-primary mr-2",onClick:function(e){e.preventDefault(),Z.push("/menu")},children:"Menu"}),W&&Object(u.jsx)(x.a,{variant:"outline-primary",onClick:function(e){e.preventDefault(),p.a.get("/logout",{}).then((function(e){Z.push("/")}))},children:"Cerrar sesi\xf3n"}),!W&&Object(u.jsx)(x.a,{variant:"outline-primary",onClick:function(e){e.preventDefault(),Z.push("/login")},children:"Iniciar sesi\xf3n"})]})]})})}),N=a(21),C=a(22),S=a(35),w=a(37),k=function(e){Object(S.a)(a,e);var t=Object(w.a)(a);function a(){return Object(N.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(m.a,{className:"color-nav-contacto w-100",collapseOnSelect:!0,expand:"lg",bg:"primary",variant:"dark",children:[Object(u.jsx)(m.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(u.jsx)(m.a.Collapse,{id:"responsive-navbar-nav",children:Object(u.jsxs)(h.a,{className:"ml-auto",children:[Object(u.jsx)(h.a.Link,{className:"color-nav-contacto",href:"/contacto",children:"Contacto"}),Object(u.jsx)(h.a.Link,{className:"color-nav-contacto",href:"/mapaSitio",children:"Mapa del sitio"}),Object(u.jsx)(h.a.Link,{className:"color-nav-contacto",href:"http://187.243.249.26:1000/",children:"SII"}),Object(u.jsx)(h.a.Link,{className:"color-nav-contacto",href:"http://mail.Tecnm.mx",target:"_blank",children:"Correo institucional"})]})})]})})}}]),a}(c.Component),y=a.p+"static/media/nuevo_ingreso.54151859.jpg",F=a.p+"static/media/reinscripcion.ec88daba.jpg",z=a.p+"static/media/titulacion.95b89872.jpg",E=a.p+"static/media/egresados.55b630b9.jpg",T=function(){var e=function(e){window.location="/CardIndividual/"+e};return Object(u.jsx)("div",{className:"card-container",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-md-1"}),Object(u.jsx)("div",{className:"col-md-2",children:Object(u.jsxs)("div",{className:"card",onClick:function(t){t.preventDefault(),e(4)},children:[Object(u.jsx)("img",{className:"card-img-top",src:y,alt:"Nuevo ingreso"}),Object(u.jsx)("div",{className:"card-img-overlay card-img-overlay h-100 d-flex flex-column justify-content-end",children:Object(u.jsx)("p",{className:"card-text",children:"Nuevo ingreso"})})]})}),Object(u.jsx)("div",{className:"col-md-2",children:Object(u.jsxs)("div",{className:"card",onClick:function(t){t.preventDefault(),e(14)},children:[Object(u.jsx)("img",{className:"card-img-top",src:F,alt:"Reinscripcion"}),Object(u.jsx)("div",{className:"card-img-overlay h-100 d-flex flex-column justify-content-end",children:Object(u.jsx)("p",{className:"card-text",children:"Reinscripci\xf3n"})})]})}),Object(u.jsx)("div",{className:"col-md-2",children:Object(u.jsxs)("div",{className:"card",onClick:function(t){t.preventDefault(),e(24)},children:[Object(u.jsx)("img",{className:"card-img-top",src:z,alt:"Titulacion"}),Object(u.jsx)("div",{className:"card-img-overlay card-img-overlay h-100 d-flex flex-column justify-content-end",children:Object(u.jsx)("p",{className:"card-text",children:"Titulaci\xf3n"})})]})}),Object(u.jsx)("div",{className:"col-md-2",children:Object(u.jsxs)("div",{className:"card",onClick:function(t){t.preventDefault(),e(34)},children:[Object(u.jsx)("img",{className:"card-img-top",src:E,alt:"Egresados"}),Object(u.jsx)("div",{className:"card-img-overlay card-img-overlay h-100 d-flex flex-column justify-content-end",children:Object(u.jsx)("p",{className:"card-text",children:"Egresados"})})]})}),Object(u.jsx)("div",{className:"col-md-2",children:Object(u.jsxs)("div",{className:"card",onClick:function(t){t.preventDefault(),e(44)},children:[Object(u.jsx)("img",{className:"card-img-top",src:E,alt:"Egresados"}),Object(u.jsx)("div",{className:"card-img-overlay card-img-overlay h-100 d-flex flex-column justify-content-end",children:Object(u.jsx)("p",{className:"card-text",children:"Egresados"})})]})}),Object(u.jsx)("div",{className:"col-md-1"})]})})},I=(a(239),a(200)),D=a(202),A=a.n(D),q=a(201),P=a(436),L=a(435),R=a(434),M=a(433),G=a(437),B=a(430),_=s.a.forwardRef((function(e,t){return Object(u.jsx)(B.a,Object(q.a)({direction:"up",ref:t},e))}));function H(e){var t=e.actualId,a=e.change,s=Object(c.useState)(!1),n=Object(O.a)(s,2),i=(n[0],n[1]),r=Object(c.useState)(!0),o=Object(O.a)(r,2),l=o[0],j=o[1];Object(c.useEffect)((function(){d()}),[a]);var d=function(){j(!0)},b=function(){j(!1)};return Object(u.jsx)("div",{children:Object(u.jsxs)(L.a,{open:l,TransitionComponent:_,keepMounted:!0,onClose:b,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(u.jsx)(M.a,{children:Object(u.jsx)(G.a,{id:"alert-dialog-slide-description",children:"\xbfDesea eliminar esta imagen?"})}),Object(u.jsxs)(R.a,{children:[Object(u.jsx)(P.a,{onClick:b,color:"primary",children:"No"}),Object(u.jsx)(P.a,{onClick:function(){p.a.get("/deleteCarousell/"+t,{}).then((function(){i(!0),b(),window.location="/"}))},color:"primary",children:"Si"})]})]})})}var Y=function(){var e=Object(c.useState)(0),t=Object(O.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!1),i=Object(O.a)(n,2),r=i[0],o=i[1],l=Object(c.useState)(0),j=Object(O.a)(l,2),d=j[0],b=j[1],m=Object(c.useState)([]),h=Object(O.a)(m,2),f=h[0],g=h[1],v=Object(c.useState)(!1),N=Object(O.a)(v,2),C=N[0],S=N[1];p.a.defaults.withCredentials=!0,Object(c.useEffect)((function(){p.a.get("/getCarousell").then((function(e){g(e.data)}))}),[a]),Object(c.useEffect)((function(){a>0&&o(!0)}),[a]),Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),S(!0)):console.log("no estoy autorizado"+e.data.authorized)}))}),[]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(I.Carousel,{infiniteLoop:"true",autoPlay:"true",interval:"3000",dynamicHeight:"true",className:"carrusel",children:f&&f.map((function(e){return Object(u.jsxs)("div",{className:"carrusel",children:[Object(u.jsx)("img",{src:e.file,alt:"imagen"}),C&&Object(u.jsx)("div",{className:"carruselDeleteDiv",children:Object(u.jsx)(x.a,{onClick:function(t){return function(e,t){e.preventDefault(),b(t),s((function(e){return e+1}))}(t,e.id)},children:Object(u.jsx)(A.a,{className:"carruselDeleteIcon"})})})]})}))}),Object(u.jsx)("div",{children:r&&Object(u.jsx)(H,{actualId:d,change:Math.random()})})]})},K=a.p+"static/media/logo_footer.bbac35e0.png",V=function(){return Object(u.jsx)("div",{className:"footer",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-md-6",children:Object(u.jsx)("div",{className:"imagenFooter",children:Object(u.jsx)("img",{id:"logoFooter",src:K,alt:"logoFooter"})})}),Object(u.jsx)("div",{className:"col-md-6",children:Object(u.jsxs)("div",{className:"infoFooter",children:[Object(u.jsx)("p",{children:"Carretera al Varadero Nacional km. 4 Sector Las Playitas, C.P. 85480 Guaymas, Sonora. Tel. (622) 221 53 67"}),Object(u.jsx)("p",{className:"opcionesFooter",children:"Aviso de Privacidad"}),Object(u.jsx)("p",{className:"opcionesFooter",children:"/"}),Object(u.jsx)("p",{className:"opcionesFooter",children:"Admin"})]})})]})})},$=a(111),J=a.n($),Q=a(45),U=a.n(Q),W=a(19),X=a(16),Z=a(7),ee=function(){return Object(u.jsx)("div",{className:"fb-page","data-href":"https://www.facebook.com/Tecnol%C3%B3gico-Nacional-de-M%C3%A9xico-Instituto-Tecnol%C3%B3gico-de-Guaymas-201510236554878/","data-tabs":"timeline","data-width":"470px","data-height":"400px","data-small-header":"false","data-adapt-container-width":"true","data-hide-cover":"false","data-show-facepile":"true",children:Object(u.jsx)("blockquote",{cite:"https://www.facebook.com/Tecnol%C3%B3gico-Nacional-de-M%C3%A9xico-Instituto-Tecnol%C3%B3gico-de-Guaymas-201510236554878/",className:"fb-xfbml-parse-ignore",children:Object(u.jsx)("a",{href:"https://www.facebook.com/Tecnol%C3%B3gico-Nacional-de-M%C3%A9xico-Instituto-Tecnol%C3%B3gico-de-Guaymas-201510236554878/",children:"Tecnol\xf3gico Nacional de M\xe9xico Instituto Tecnol\xf3gico de Guaymas"})})})},te=function(){var e=Object(c.useState)([]),t=Object(O.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!1),i=Object(O.a)(n,2),r=i[0],l=i[1];return p.a.defaults.withCredentials=!0,Object(c.useEffect)((function(){p.a.get("/getAvisos").then((function(e){s(e.data)}))}),[]),Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),l(!0)):console.log("no estoy autorizado"+e.data.authorized)}))}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(W.a,{fluid:!0,className:"wrapper",children:Object(u.jsxs)(X.a,{children:[Object(u.jsx)(Z.a,{lg:1}),Object(u.jsx)(Z.a,{lg:8,children:Object(u.jsx)("h1",{children:"Avisos"})}),Object(u.jsx)(Z.a,{lg:3})]})}),Object(u.jsx)(W.a,{fluid:!0,className:"wrapper",children:Object(u.jsxs)(X.a,{children:[Object(u.jsx)(Z.a,{lg:1,className:"transparent"}),Object(u.jsxs)(Z.a,{lg:8,className:"contenedor",children:[a&&a.map((function(e,t){var a=!1;return a=!!/\.(jpg|png|gif)$/i.test(e.file),Object(u.jsxs)("div",{children:[Object(u.jsxs)(X.a,{children:[Object(u.jsxs)(Z.a,{lg:3,children:[!0===a&&e.file?Object(u.jsx)("div",{className:"imgDiv",children:Object(u.jsx)("a",{href:e.file,target:"_blank",children:Object(u.jsx)("img",{src:e.file,className:"img-fluid img-thumbnail"})})}):Object(u.jsx)("p",{}),!1===a&&e.file?Object(u.jsxs)(o.b,{to:e.file,target:"_blank",children:["Ver archivo adjunto   ",Object(u.jsx)(U.a,{className:"avisoFile"})]}):Object(u.jsx)("p",{})]}),Object(u.jsxs)(Z.a,{lg:9,children:[" ",Object(u.jsx)("h3",{className:"avisoTitulo",children:e.titulo},e.id),Object(u.jsx)("p",{children:e.descripcion})]})]}),Object(u.jsxs)("div",{className:"avisoFileDate",children:[r&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x.a,{className:"button",children:Object(u.jsx)(o.b,{to:"/editarAviso/".concat(e.id),className:"link",children:"Editar"})}),Object(u.jsx)(x.a,{className:"button",children:Object(u.jsx)(o.b,{to:"/eliminarAviso/".concat(e.id),className:"link",children:"Eliminar"})})]}),Object(u.jsx)("p",{avisoFecha:!0,className:"avisoFecha",children:J()(e.fecha).format("DD/MM/YYYY")})]}),Object(u.jsx)("hr",{})]})})),""===a&&Object(u.jsx)("h3",{children:"No hay nuevos avisos"})]}),Object(u.jsx)(Z.a,{lg:2,className:"facebook",children:Object(u.jsx)(ee,{})}),Object(u.jsx)(Z.a,{lg:1})]})}),r&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(x.a,{className:"button",children:Object(u.jsx)(o.b,{to:"/formularioAvisos",className:"link",children:"A\xf1adir avisos"})})})]})},ae=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)(k,{}),Object(u.jsx)(Y,{}),Object(u.jsx)(T,{}),Object(u.jsx)(te,{}),Object(u.jsx)(V,{})]})},ce=a(6),se=a.n(ce),ne=a(14),ie=a(9),re=function(e){var t=e.mensaje;return Object(u.jsx)("h6",{className:"confirmacion",children:t})},oe=function(e){var t=e.mensaje;return Object(u.jsx)("h6",{className:"confirmacion",children:t})},le=function(){var e=Object(c.useState)(""),t=Object(O.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(""),i=Object(O.a)(n,2),r=i[0],l=i[1],j=Object(c.useState)(0),d=Object(O.a)(j,2),m=d[0],h=d[1],f=Object(c.useState)(""),g=Object(O.a)(f,2),N=g[0],C=g[1],S=Object(c.useState)("Elige un archivo"),w=Object(O.a)(S,2),k=w[0],y=w[1],F=Object(c.useState)({}),z=Object(O.a)(F,2),E=(z[0],z[1]),T=Object(c.useState)(""),I=Object(O.a)(T,2),D=(I[0],I[1]),A=J()().format("YYYY/MM/DD"),q=Object(c.useState)(!1),P=Object(O.a)(q,2),L=P[0],R=P[1];p.a.defaults.withCredentials=!0;var M="";Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),R(!0)):(console.log("no estoy autorizado"+e.data.authorized),window.location="/")}))}),[]);var G=function(){var e=Object(ne.a)(se.a.mark((function e(t){var c,n,i,o,j;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(c=new FormData).append("file",N),""===N){e.next=17;break}return e.prev=4,e.next=7,p.a.post("/uploads",c,{headers:{"Content-Type":"multipart/form-data"}});case 7:n=e.sent,i=n.data,o=i.fileName,j=i.filePath,M=j,E({fileName:o,filePath:j}),D("Archivo subido"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),500===e.t0.response.status?D("Hubo un problema con el servidor"):D(e.t0.response.data.msg);case 17:""!==a&&""!==r?p.a.post("/createAviso",{titulo:a,descripcion:r,fecha:A,file:M}).then((function(){h(1),document.getElementById("formAvisos").reset(),setTimeout((function(){h(0)}),2e3),s(""),l(""),y("Elige un archivo"),C("")})):(h(2),setTimeout((function(){h(0)}),2e3));case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:L&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)(W.a,{fluid:!0,className:"mt-5 mb-5",children:Object(u.jsxs)(X.a,{children:[Object(u.jsx)(Z.a,{lg:4}),Object(u.jsx)(Z.a,{lg:4,children:Object(u.jsxs)(ie.a,{id:"formAvisos",children:[1===m&&Object(u.jsx)(re,{mensaje:"Aviso a\xf1adido correctamente"}),2===m&&Object(u.jsx)(oe,{mensaje:"Rellenar todos los campos"}),Object(u.jsxs)(ie.a.Group,{controlId:"titulo",children:[Object(u.jsx)(ie.a.Label,{children:"T\xedtulo"}),Object(u.jsx)(ie.a.Control,{type:"text",placeholder:"Ingrese el t\xedtulo",onChange:function(e){s(e.target.value)}})]}),Object(u.jsxs)(ie.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(u.jsx)(ie.a.Label,{children:"Descripci\xf3n"}),Object(u.jsx)(ie.a.Control,{as:"textarea",rows:3,placeholder:"Ingrese la informaci\xf3n del aviso",onChange:function(e){l(e.target.value)}})]}),Object(u.jsxs)("div",{className:"custom-file mb-3",children:[Object(u.jsx)("input",{type:"file",className:"custom-file-input",id:"customFile",onChange:function(e){C(e.target.files[0]),y(e.target.files[0].name)}}),Object(u.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:k})]}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(x.a,{variant:"primary",onClick:G,children:"A\xf1adir aviso"}),Object(u.jsx)(x.a,{children:Object(u.jsx)(o.b,{to:"/",className:"link",children:"Regresar"})})]})]})}),Object(u.jsx)(Z.a,{lg:4})]})}),Object(u.jsx)(V,{})]})})},je=function(){var e=Object(c.useState)(""),t=Object(O.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(""),i=Object(O.a)(n,2),r=i[0],l=i[1],j=Object(c.useState)(""),d=Object(O.a)(j,2),m=d[0],h=d[1],f=Object(c.useState)(""),g=Object(O.a)(f,2),N=g[0],C=g[1],S=Object(c.useState)(0),w=Object(O.a)(S,2),k=w[0],y=w[1],F=Object(c.useState)(""),z=Object(O.a)(F,2),E=z[0],T=z[1],I=Object(c.useState)("Elige un archivo"),D=Object(O.a)(I,2),A=D[0],q=D[1],P=Object(c.useState)({}),L=Object(O.a)(P,2),R=(L[0],L[1]),M=Object(c.useState)(""),G=Object(O.a)(M,2),B=(G[0],G[1]),_=Object(c.useState)(!1),H=Object(O.a)(_,2),Y=H[0],K=H[1];p.a.defaults.withCredentials=!0;var $="",J=function(){var e=Object(ne.a)(se.a.mark((function e(t){var c,n,i,o,j;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(c=new FormData).append("file",E),""===E){e.next=17;break}return e.prev=4,e.next=7,p.a.post("/uploads-carrera",c,{headers:{"Content-Type":"multipart/form-data"}});case 7:n=e.sent,i=n.data,o=i.fileName,j=i.filePath,$=j,R({fileName:o,filePath:j}),B("Archivo subido"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),500===e.t0.response.status?B("Hubo un problema con el servidor"):B(e.t0.response.data.msg);case 17:""!==a&&""!==r&&""!==m&&""!==N?p.a.post("/createOfertaAcademica",{licenciatura:a,codigo:r,objetivo:m,perfil:N,file:$}).then((function(){y(1),document.getElementById("formCarreras").reset(),setTimeout((function(){y(0)}),2e3),s(""),l(""),q("Elige un archivo"),T("")})):(y(2),setTimeout((function(){y(0)}),2e3));case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),K(!0)):(console.log("no estoy autorizado"+e.data.authorized),window.location="/")}))}),[]),Object(u.jsx)(u.Fragment,{children:Y&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)(W.a,{fluid:!0,className:"mt-5 mb-5",children:Object(u.jsxs)(X.a,{children:[Object(u.jsx)(Z.a,{lg:4}),Object(u.jsx)(Z.a,{lg:4,children:Object(u.jsxs)(ie.a,{id:"formCarreras",children:[1===k&&Object(u.jsx)(re,{mensaje:"Oferta academica"}),2===k&&Object(u.jsx)(oe,{}),Object(u.jsxs)(ie.a.Group,{controlId:"licenciatura",children:[Object(u.jsx)(ie.a.Label,{children:"Licenciatura"}),Object(u.jsx)(ie.a.Control,{type:"text",placeholder:"Ingrese la licenciatura",onChange:function(e){s(e.target.value)}})]}),Object(u.jsxs)(ie.a.Group,{controlId:"codigo",children:[Object(u.jsx)(ie.a.Label,{children:"C\xf3digo"}),Object(u.jsx)(ie.a.Control,{type:"text",placeholder:"Ingrese el c\xf3digo",onChange:function(e){l(e.target.value)}})]}),Object(u.jsxs)(ie.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(u.jsx)(ie.a.Label,{children:"Objetivo"}),Object(u.jsx)(ie.a.Control,{as:"textarea",rows:3,placeholder:"Ingrese el objetivo",onChange:function(e){h(e.target.value)}})]}),Object(u.jsxs)(ie.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(u.jsx)(ie.a.Label,{children:"Perfil"}),Object(u.jsx)(ie.a.Control,{as:"textarea",rows:3,placeholder:"Ingrese el perfil",onChange:function(e){C(e.target.value)}})]}),Object(u.jsxs)("div",{className:"custom-file mb-3",children:[Object(u.jsx)("input",{type:"file",className:"custom-file-input",id:"customFile",onChange:function(e){T(e.target.files[0]),q(e.target.files[0].name)}}),Object(u.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:A})]}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(x.a,{variant:"primary",onClick:J,children:"A\xf1adir Carrera"}),Object(u.jsx)(x.a,{children:Object(u.jsx)(o.b,{to:"/",className:"link",children:"Regresar"})})]})]})}),Object(u.jsx)(Z.a,{lg:4})]})}),Object(u.jsx)(V,{})]})})},de=function(){var e=Object(c.useState)(0),t=Object(O.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(""),i=Object(O.a)(n,2),r=i[0],l=i[1],j=Object(c.useState)("Elige una imagen"),d=Object(O.a)(j,2),m=d[0],h=d[1],f=Object(c.useState)({}),g=Object(O.a)(f,2),N=(g[0],g[1]),C=Object(c.useState)(""),S=Object(O.a)(C,2),w=(S[0],S[1]),k=Object(c.useState)(!1),y=Object(O.a)(k,2),F=y[0],z=y[1];p.a.defaults.withCredentials=!0;var E="";Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),z(!0)):(console.log("no estoy autorizado"+e.data.authorized),window.location="/")}))}),[]);var T=function(){var e=Object(ne.a)(se.a.mark((function e(t){var a,c,n,i,o;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=new FormData).append("file",r),""===r){e.next=25;break}if(/\.(jpg|png|gif)$/i.test(r.name)){e.next=9;break}s(3),setTimeout((function(){s(0)}),2e3),e.next=22;break;case 9:return e.prev=9,e.next=12,p.a.post("/uploads-carousell",a,{headers:{"Content-Type":"multipart/form-data"}});case 12:c=e.sent,n=c.data,i=n.fileName,o=n.filePath,E=o,N({fileName:i,filePath:o}),w("Archivo subido"),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(9),500===e.t0.response.status?w("Hubo un problema con el servidor"):w(e.t0.response.data.msg);case 22:""!==E&&p.a.post("/createCarousell",{file:E}).then((function(){s(1),document.getElementById("formCarousell").reset(),setTimeout((function(){s(0)}),2e3),h("Elige una imagen"),l("")})),e.next=27;break;case 25:s(2),setTimeout((function(){s(0)}),2e3);case 27:case"end":return e.stop()}}),e,null,[[9,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:F&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)(W.a,{fluid:!0,className:"mt-5 mb-5",children:Object(u.jsxs)(X.a,{children:[Object(u.jsx)(Z.a,{lg:4}),Object(u.jsx)(Z.a,{lg:4,children:Object(u.jsxs)(ie.a,{id:"formCarousell",children:[1===a&&Object(u.jsx)(re,{mensaje:"Imagen a\xf1adida correctamente"}),2===a&&Object(u.jsx)(oe,{mensaje:"Favor de a\xf1adir la imagen"}),3===a&&Object(u.jsx)(oe,{mensaje:"Solo se permiten imagenes"}),Object(u.jsxs)("div",{className:"custom-file mb-3",children:[Object(u.jsx)("input",{type:"file",className:"custom-file-input",id:"customFile",onChange:function(e){l(e.target.files[0]),h(e.target.files[0].name)}}),Object(u.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:m})]}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(x.a,{variant:"primary",onClick:T,children:"A\xf1adir imagen"}),Object(u.jsx)(x.a,{children:Object(u.jsx)(o.b,{to:"/",className:"link",children:"Regresar"})})]})]})}),Object(u.jsx)(Z.a,{lg:4})]})}),Object(u.jsx)(V,{})]})})},ue=function(){var e=Object(c.useState)(""),t=Object(O.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(""),i=Object(O.a)(n,2),r=i[0],l=i[1],j=Object(c.useState)(0),d=Object(O.a)(j,2),m=d[0],h=d[1],f=Object(c.useState)(!1),g=Object(O.a)(f,2),N=g[0],C=g[1];p.a.defaults.withCredentials=!0,Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),C(!0)):(console.log("no estoy autorizado"+e.data.authorized),window.location="/")}))}),[]);var S=function(){var e=Object(ne.a)(se.a.mark((function e(t){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==a&&""!==r?p.a.post("/createMoodle",{titulo:a,servidor:r}).then((function(){h(1),document.getElementById("formMoodle").reset(),setTimeout((function(){h(0)}),2e3),s(""),l("")})):(h(2),setTimeout((function(){h(0)}),2e3));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:N&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)(W.a,{fluid:!0,className:"mt-5 mb-5",children:Object(u.jsxs)(X.a,{children:[Object(u.jsx)(Z.a,{lg:4}),Object(u.jsx)(Z.a,{lg:4,children:Object(u.jsxs)(ie.a,{id:"formMoodle",children:[1===m&&Object(u.jsx)(re,{mensaje:"Elemento moodle a\xf1adido correctamente"}),2===m&&Object(u.jsx)(oe,{mensaje:"Rellenar todos los campos"}),Object(u.jsxs)(ie.a.Group,{controlId:"titulo",children:[Object(u.jsx)(ie.a.Label,{children:"T\xedtulo"}),Object(u.jsx)(ie.a.Control,{type:"text",placeholder:"Ingrese el t\xedtulo",onChange:function(e){s(e.target.value)}})]}),Object(u.jsxs)(ie.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(u.jsx)(ie.a.Label,{children:"Servidor"}),Object(u.jsx)(ie.a.Control,{type:"text",placeholder:"Ingrese el servidor",onChange:function(e){l(e.target.value)}})]}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(x.a,{variant:"primary",onClick:S,children:"A\xf1adir Elemento"}),Object(u.jsx)(x.a,{children:Object(u.jsx)(o.b,{to:"/",className:"link",children:"Regresar"})})]})]})}),Object(u.jsx)(Z.a,{lg:4})]})}),Object(u.jsx)(V,{})]})})},be=function(){var e=Object(l.g)().id,t=Object(c.useState)([]),a=Object(O.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(!1),r=Object(O.a)(i,2),j=r[0],d=r[1];return p.a.defaults.withCredentials=!0,Object(c.useEffect)((function(){p.a.get("/getOfertaAcademica/"+e).then((function(e){n(e.data)}))}),[e]),Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),d(!0)):console.log("no estoy autorizado"+e.data.authorized)}))}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)(k,{}),s&&s.map((function(e){var t=!1;return t=!!/\.(jpg|png|gif)$/i.test(e.file),Object(u.jsx)("div",{className:"ofertaContainer",children:Object(u.jsx)("container",{fluid:!0,className:"mt-5 mb-5",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-lg-1 "}),Object(u.jsxs)("div",{className:"info-carrera col-lg-10",children:[Object(u.jsx)("h1",{children:e.licenciatura}),Object(u.jsx)("h2",{children:e.licenciatura}),Object(u.jsx)("h4",{children:e.codigo}),Object(u.jsx)("h3",{children:"Objetivo general"}),Object(u.jsx)("p",{children:e.objetivo}),Object(u.jsx)("h3",{children:"Perfil de egreso"}),Object(u.jsx)("p",{className:"perfilEgreso",children:e.perfil}),!1===t&&e.file?Object(u.jsxs)(o.b,{to:e.file,target:"_blank",children:["Ver plan de estudios",Object(u.jsx)(U.a,{className:"avisoFile"})]}):Object(u.jsx)("p",{}),!0===t&&e.file?Object(u.jsx)("div",{children:Object(u.jsx)("a",{href:e.file,target:"_blank",children:Object(u.jsx)("img",{src:e.file,className:"img-fluid img-thumbnail",width:"200px",height:"200px"})})}):Object(u.jsx)("p",{})]}),j&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x.a,{className:"button",children:Object(u.jsx)(o.b,{to:"/editarCarrera/".concat(e.id),className:"link",children:"Editar oferta academica"})}),Object(u.jsx)(x.a,{className:"button",children:Object(u.jsx)(o.b,{to:"/eliminarCarrera/".concat(e.id),className:"link",children:"Eliminar oferta academica"})})]}),Object(u.jsx)("div",{className:"col-lg-1"})]})})})})),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(x.a,{className:"button",children:Object(u.jsx)(o.b,{to:"/formularioCarreras",className:"link",children:"A\xf1adir oferta academica"})}),Object(u.jsx)(V,{})]})},Oe=function(){var e=Object(c.useState)(!1),t=Object(O.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(""),i=Object(O.a)(n,2),r=i[0],j=i[1],d=Object(c.useState)(""),m=Object(O.a)(d,2),h=m[0],f=m[1],g=Object(c.useState)(0),N=Object(O.a)(g,2),C=N[0],S=N[1],w=Object(l.g)().id,k=Object(c.useState)([]),y=Object(O.a)(k,2),F=y[0],z=y[1],E=Object(c.useState)(""),T=Object(O.a)(E,2),I=T[0],D=T[1],A=Object(c.useState)("Elige un archivo"),q=Object(O.a)(A,2),P=q[0],L=q[1],R=Object(c.useState)(""),M=Object(O.a)(R,2),G=(M[0],M[1]),B=Object(c.useState)(!1),_=Object(O.a)(B,2),H=_[0],Y=_[1];p.a.defaults.withCredentials=!0,Object(c.useEffect)((function(){p.a.get("/getDatosAviso/"+w).then((function(e){z(e.data[0])}))}),[w]),Object(c.useEffect)((function(){j(F.titulo),f(F.descripcion)}),[F]),Object(c.useEffect)((function(){s(""==r||""==h)}),[r,h]),Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),Y(!0)):(console.log("no estoy autorizado"+e.data.authorized),window.location="/")}))}),[]);var K=function(e){p.a.post("/editAviso",{titulo:r,descripcion:h,id:w,file:e}).then((function(){S(1),setTimeout((function(){S(0)}),2e3),L("Elige un archivo"),D("")}))},$=function(){var e=Object(ne.a)(se.a.mark((function e(t){var c,s,n,i;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==a){e.next=20;break}if(t.preventDefault(),(c=new FormData).append("file",I),""===I&&p.a.post("/uploads-editDel/".concat(w)).then((function(e){var t=e.data.filePath;K(t)})),""===I){e.next=18;break}return e.prev=6,e.next=9,p.a.post("/uploads-edit/".concat(w),c,{headers:{"Content-Type":"multipart/form-data"}});case 9:s=e.sent,n=s.data,n.fileName,i=n.filePath,G("Archivo subido"),K(i),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),500===e.t0.response.status?G("Hubo un problema con el servidor"):G(e.t0.response.data.msg);case 18:e.next=22;break;case 20:S(2),setTimeout((function(){S(0)}),2e3);case 22:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:H&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)(W.a,{fluid:!0,className:"mt-5 mb-5",children:Object(u.jsxs)(X.a,{children:[Object(u.jsx)(Z.a,{lg:4}),Object(u.jsx)(Z.a,{lg:4,children:Object(u.jsxs)(ie.a,{id:"formAvisos",children:[1==C&&Object(u.jsx)(re,{mensaje:"Aviso editado correctamente"}),2==C&&Object(u.jsx)(oe,{mensaje:"Rellenar todos los campos"}),Object(u.jsxs)(ie.a.Group,{controlId:"titulo",children:[Object(u.jsx)(ie.a.Label,{children:"T\xedtulo"}),Object(u.jsx)(ie.a.Control,{type:"text",value:r,onChange:function(e){!function(e){j(e)}(e.target.value)}})]}),Object(u.jsxs)(ie.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(u.jsx)(ie.a.Label,{children:"Descripci\xf3n"}),Object(u.jsx)(ie.a.Control,{as:"textarea",rows:3,value:h,onChange:function(e){!function(e){f(e)}(e.target.value)}})]}),Object(u.jsxs)("div",{className:"custom-file mb-3",children:[Object(u.jsx)("input",{type:"file",className:"custom-file-input",id:"customFile",onChange:function(e){D(e.target.files[0]),L(e.target.files[0].name)}}),Object(u.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:P})]}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(x.a,{variant:"primary",onClick:$,children:"Editar aviso"}),Object(u.jsx)(x.a,{children:Object(u.jsx)(o.b,{to:"/",className:"link",children:"Regresar"})})]})]})}),Object(u.jsx)(Z.a,{lg:4})]})}),Object(u.jsx)(V,{})]})})},me=function(){var e=Object(l.g)().id,t=Object(c.useState)([]),a=Object(O.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(0),r=Object(O.a)(i,2),j=r[0],d=r[1],m=Object(c.useState)(!1),h=Object(O.a)(m,2),f=h[0],g=h[1];p.a.defaults.withCredentials=!0,Object(c.useEffect)((function(){p.a.get("/getDatosAviso/"+e).then((function(e){n(e.data[0])}))}),[e]),Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),g(!0)):(console.log("no estoy autorizado"+e.data.authorized),window.location="/")}))}),[]);var N=function(){p.a.get("/deleteAviso/"+e,{}).then((function(){d(1)}))},C=function(){var t=Object(ne.a)(se.a.mark((function t(a){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),""===s.file&&N(),""!==s.file&&p.a.post("/uploads-editDel/".concat(e)).then((function(){N()}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:f&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)(k,{}),0===j&&Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(X.a,{children:[Object(u.jsx)(Z.a,{lg:1}),Object(u.jsx)(Z.a,{lg:8,children:Object(u.jsx)("h1",{children:"\xbfDesea eliminar este aviso?"})}),Object(u.jsx)(Z.a,{lg:3})]}),Object(u.jsxs)(X.a,{children:[Object(u.jsx)(Z.a,{lg:1}),Object(u.jsxs)(Z.a,{lg:4,children:[Object(u.jsx)("h4",{children:"Titulo: "})," ",Object(u.jsx)("p",{children:s.titulo})]}),Object(u.jsxs)(Z.a,{lg:4,children:[Object(u.jsx)("h4",{children:"Descripci\xf3n: "})," ",Object(u.jsx)("p",{children:s.descripcion})]}),Object(u.jsx)(Z.a,{lg:3})]}),Object(u.jsxs)(X.a,{children:[Object(u.jsx)(Z.a,{lg:1}),Object(u.jsxs)(Z.a,{lg:4,children:[Object(u.jsx)(x.a,{className:"button",onClick:C,children:"Si"}),Object(u.jsx)(x.a,{className:"button",children:Object(u.jsx)(o.b,{to:"/",className:"link",children:"No"})})]}),Object(u.jsx)(Z.a,{lg:4}),Object(u.jsx)(Z.a,{lg:3})]})]}),1===j&&Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(X.a,{children:[Object(u.jsx)(Z.a,{lg:1}),Object(u.jsx)(Z.a,{lg:8,children:Object(u.jsx)("h1",{children:"Aviso eliminado exitosamente"})}),Object(u.jsx)(Z.a,{lg:3})]}),Object(u.jsx)(X.a,{children:Object(u.jsx)(x.a,{className:"button",children:Object(u.jsx)(o.b,{to:"/",className:"link",children:"Regresar"})})})]}),Object(u.jsx)(V,{})]})})})},he=function(){var e=Object(c.useState)(!1),t=Object(O.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(""),i=Object(O.a)(n,2),r=i[0],j=i[1],d=Object(c.useState)(""),m=Object(O.a)(d,2),h=m[0],f=m[1],g=Object(c.useState)(""),N=Object(O.a)(g,2),C=N[0],S=N[1],w=Object(c.useState)(""),k=Object(O.a)(w,2),y=k[0],F=k[1],z=Object(c.useState)(""),E=Object(O.a)(z,2),T=E[0],I=E[1],D=Object(c.useState)(0),A=Object(O.a)(D,2),q=A[0],P=A[1],L=Object(l.g)().id,R=Object(c.useState)(""),M=Object(O.a)(R,2),G=M[0],B=M[1],_=Object(c.useState)("Elige un archivo"),H=Object(O.a)(_,2),Y=H[0],K=H[1],$=Object(c.useState)({}),J=Object(O.a)($,2),Q=(J[0],J[1]),U=Object(c.useState)(""),ee=Object(O.a)(U,2),te=(ee[0],ee[1]),ae=Object(c.useState)(!1),ce=Object(O.a)(ae,2),le=ce[0],je=ce[1];p.a.defaults.withCredentials=!0;Object(c.useEffect)((function(){p.a.get("/getDatosCarrera/"+L).then((function(e){j(e.data[0])}))}),[L]),Object(c.useEffect)((function(){f(r.licenciatura),S(r.codigo),F(r.objetivo),I(r.perfil)}),[r]),Object(c.useEffect)((function(){s(""===h||""===C||""===y||""===T)}),[h,C,y,T]),Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),je(!0)):(console.log("no estoy autorizado"+e.data.authorized),window.location="/")}))}),[]);var de=function(e){p.a.post("/editCarrera",{licenciatura:h,codigo:C,objetivo:y,perfil:T,id:L,file:e}).then((function(){P(1),setTimeout((function(){P(0)}),2e3),K("Elige un archivo"),B("")}))},ue=function(){var e=Object(ne.a)(se.a.mark((function e(t){var c,s,n,i,r;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==a){e.next=22;break}if(t.preventDefault(),(c=new FormData).append("file",G),""===G&&p.a.post("/uploads-carreras-editDel/".concat(L)).then((function(e){var t=e.data.filePath;de(t)})),""===G){e.next=20;break}return e.prev=6,e.next=9,p.a.post("/uploads-carreras-edit/".concat(L),c,{headers:{"Content-Type":"multipart/form-data"}});case 9:s=e.sent,n=s.data,i=n.fileName,r=n.filePath,r,Q({fileName:i,filePath:r}),te("Archivo subido"),de(r),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),500===e.t0.response.status?te("Hubo un problema con el servidor"):te(e.t0.response.data.msg);case 20:e.next=24;break;case 22:P(2),setTimeout((function(){P(0)}),2e3);case 24:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:le&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)(W.a,{fluid:!0,className:"mt-5 mb-5",children:Object(u.jsxs)(X.a,{children:[Object(u.jsx)(Z.a,{lg:4}),Object(u.jsx)(Z.a,{lg:4,children:Object(u.jsxs)(ie.a,{id:"formCarreras",children:[1===q&&Object(u.jsx)(re,{mensaje:"Oferta academica editada correctamente"}),2===q&&Object(u.jsx)(oe,{mensaje:"Rellenar todos los campos"}),Object(u.jsxs)(ie.a.Group,{controlId:"licenciatura",children:[Object(u.jsx)(ie.a.Label,{children:"Licenciatura"}),Object(u.jsx)(ie.a.Control,{type:"text",value:h,onChange:function(e){!function(e){f(e)}(e.target.value)}})]}),Object(u.jsxs)(ie.a.Group,{controlId:"codigo",children:[Object(u.jsx)(ie.a.Label,{children:"C\xf3digo"}),Object(u.jsx)(ie.a.Control,{type:"text",value:C,onChange:function(e){!function(e){S(e)}(e.target.value)}})]}),Object(u.jsxs)(ie.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(u.jsx)(ie.a.Label,{children:"Objetivo"}),Object(u.jsx)(ie.a.Control,{as:"textarea",rows:3,value:y,onChange:function(e){!function(e){F(e)}(e.target.value)}})]}),Object(u.jsxs)(ie.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(u.jsx)(ie.a.Label,{children:"Perfil"}),Object(u.jsx)(ie.a.Control,{as:"textarea",rows:3,value:T,onChange:function(e){!function(e){I(e)}(e.target.value)}})]}),Object(u.jsxs)("div",{className:"custom-file mb-3",children:[Object(u.jsx)("input",{type:"file",className:"custom-file-input",id:"customFile",onChange:function(e){B(e.target.files[0]),K(e.target.files[0].name)}}),Object(u.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:Y})]}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(x.a,{variant:"primary",onClick:ue,children:"Editar Carrera"}),Object(u.jsx)(x.a,{children:Object(u.jsx)(o.b,{to:"/ofertaAcademica/".concat(L),className:"link",children:"Regresar"})})]})]})}),Object(u.jsx)(Z.a,{lg:4})]})}),Object(u.jsx)(V,{})]})})},xe=function(){var e=Object(l.g)().id,t=Object(c.useState)([]),a=Object(O.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(0),r=Object(O.a)(i,2),j=r[0],d=r[1],m=Object(c.useState)(!1),h=Object(O.a)(m,2),f=h[0],g=h[1];p.a.defaults.withCredentials=!0,Object(c.useEffect)((function(){p.a.get("/getDatosCarrera/"+e).then((function(e){n(e.data[0])}))}),[e]),Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),g(!0)):(console.log("no estoy autorizado"+e.data.authorized),window.location="/")}))}),[]);var N=function(){p.a.get("/deleteCarrera/"+e,{}).then((function(){d(1)}))},C=function(){var t=Object(ne.a)(se.a.mark((function t(a){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),""===s.file&&N(),""!==s.file&&p.a.post("/uploads-carreras-editDel/".concat(e)).then((function(){N()}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:f&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)(k,{}),0===j&&Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(X.a,{children:[Object(u.jsx)(Z.a,{lg:1}),Object(u.jsx)(Z.a,{lg:8,children:Object(u.jsx)("h1",{children:"\xbfDesea eliminar esta oferta academica?"})}),Object(u.jsx)(Z.a,{lg:3})]}),Object(u.jsxs)(X.a,{children:[Object(u.jsx)(Z.a,{lg:1}),Object(u.jsx)(Z.a,{lg:4,children:Object(u.jsx)("h4",{children:s.licenciatura})}),Object(u.jsx)(Z.a,{lg:3})]}),Object(u.jsxs)(X.a,{children:[Object(u.jsx)(Z.a,{lg:1}),Object(u.jsxs)(Z.a,{lg:4,children:[Object(u.jsx)(x.a,{className:"button",onClick:C,children:"Si"}),Object(u.jsx)(x.a,{className:"button",children:Object(u.jsx)(o.b,{to:"/ofertaAcademica/".concat(e),className:"link",children:"No"})})]}),Object(u.jsx)(Z.a,{lg:4}),Object(u.jsx)(Z.a,{lg:3})]})]}),1===j&&Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(X.a,{children:[Object(u.jsx)(Z.a,{lg:1}),Object(u.jsx)(Z.a,{lg:8,children:Object(u.jsx)("h1",{children:"Aviso eliminado exitosamente"})}),Object(u.jsx)(Z.a,{lg:3})]}),Object(u.jsx)(X.a,{children:Object(u.jsx)(x.a,{className:"button",children:Object(u.jsx)(o.b,{to:"/",className:"link",children:"Regresar"})})})]}),Object(u.jsx)(V,{})]})})})},fe=a(32),ge=a(36),pe=a(17),ve=pe.a().shape({email:pe.c().email("El correo debe ser v\xe1lido").required("El correo debe ser v\xe1lido"),password:pe.c().min(4,"Ingrese una contrase\xf1a m\xednimo 4 caracteres").max(15,"Ingrese una contrase\xf1a m\xe1ximo 15 caracteres").required("Ingrese una contrase\xf1a entre 4 y 15 caracteres"),confirmPassword:pe.c().oneOf([pe.b("password"),null])}),Ne=function(){var e,t,a=Object(c.useState)(""),s=Object(O.a)(a,2),n=s[0],i=s[1],r=Object(c.useState)(""),o=Object(O.a)(r,2),l=o[0],j=o[1],d=Object(c.useState)(""),m=Object(O.a)(d,2),h=m[0],x=m[1],f=Object(c.useState)(""),g=Object(O.a)(f,2),N=g[0],C=g[1],S=Object(c.useState)(!1),w=Object(O.a)(S,2),k=w[0],y=w[1],F=Object(c.useState)(""),z=Object(O.a)(F,2),E=z[0],T=z[1],I=Object(c.useState)(""),D=Object(O.a)(I,2),A=D[0],q=D[1],P=Object(c.useState)(!1),L=Object(O.a)(P,2),R=L[0],M=L[1],G=Object(c.useState)(""),B=Object(O.a)(G,2),_=B[0],H=B[1],Y=Object(c.useState)(""),K=Object(O.a)(Y,2),$=(K[0],K[1]),J=Object(fe.useForm)({resolver:Object(ge.yupResolver)(ve)}),Q=J.register,U=J.handleSubmit,W=J.errors,X=Object(c.useState)(""),Z=Object(O.a)(X,2),ee=Z[0],te=Z[1],ae=Object(c.useState)(""),ce=Object(O.a)(ae,2),se=ce[0],ne=ce[1];Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),y(!0),"admin"===e.data.authData.role?M(!0):(M(!1),window.location="/")):console.log("no estoy autorizado"+e.data.authorized)}))}),[]),p.a.defaults.withCredentials=!0;var ie=function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?p.a.post("/registrar",{email:n,password:l,role:A}).then((function(e){return console.log(e),!0})):(console.log("no estoy autorizado"+e.data.authorized),window.location="/")}))};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),!1===k&&Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"lg-3"}),Object(u.jsxs)("div",{className:"lg-9 mt-5 login-form",children:[Object(u.jsx)("h1",{className:"text-center",children:"Inicio de sesi\xf3n"}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese su usuario",name:"email",required:"required",onChange:function(e){x(e.target.value)}})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"password",className:"form-control",placeholder:"Ingrese su contrase\xf1a",name:"password",required:"required",onChange:function(e){C(e.target.value)}})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("button",{onClick:function(){p.a.post("/login",{email:h,password:N}).then((function(e){(console.log(e),e.data.auth)?(T(e.data.user.role),console.log(e.data.user.role),"admin"===e.data.user.role?(M(!0),console.log(E+"rooooool"),console.log("mostrar true")):(M(!1),console.log(E+"rooooool"),console.log("mostrar false")),$("Sesi\xf3n iniciada correctamente"),window.location="/login",setTimeout((function(){$("")}),5e3)):(console.log(e.data.mensaje),H(e.data.mensaje),setTimeout((function(){H("")}),5e3))}))},class:"btn btn-primary btn-block",children:"Iniciar sesi\xf3n"})}),""!==_&&Object(u.jsx)("p",{className:"alert alert-danger",children:_})]}),Object(u.jsx)("div",{className:"lg-3"})]})}),R&&Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"lg-3"}),Object(u.jsx)("div",{className:"lg-9 mt-5 login-form",children:Object(u.jsxs)("form",{onSubmit:U((function(e){p.a.post("/checkEmailDuplicated",{email:n}).then((function(e){!0===e.data.duplicated?(te("El correo utilizado ya est\xe1 en uso"),setTimeout((function(){te("")}),5e3)):(ie(),ne("El usuario fue registrado exitosamente"),setTimeout((function(){ne("")}),5e3))}))})),children:[Object(u.jsx)("h1",{className:"text-center",children:"Registro de usuario"}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("p",{children:"Ingrese un correo:"}),Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese un correo",name:"email",required:"required",onChange:function(e){return i(e.target.value)},ref:Q}),Object(u.jsx)("strong",{children:null===(e=W.email)||void 0===e?void 0:e.message})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("p",{children:"Ingrese una contrase\xf1a:"}),Object(u.jsx)("input",{type:"password",className:"form-control",placeholder:"Ingrese contrase\xf1a",name:"password",required:"required",onChange:function(e){j(e.target.value)},ref:Q}),Object(u.jsx)("strong",{children:null===(t=W.password)||void 0===t?void 0:t.message})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("p",{children:"Confirme su contrase\xf1a:"}),Object(u.jsx)("input",{type:"password",className:"form-control",placeholder:"Confirmar contrase\xf1a",name:"confirmPassword",required:"required",onChange:function(e){j(e.target.value)},ref:Q}),Object(u.jsx)("strong",{children:W.confirmPassword&&"Las contrase\xf1as deben coincidir"})]}),Object(u.jsx)("p",{children:"Seleccione el rol que tendr\xe1 el usuario:"}),Object(u.jsxs)("div",{class:"custom-control custom-radio",children:[Object(u.jsx)("input",{type:"radio",id:"customRadio1",name:"customRadio",class:"custom-control-input",onChange:function(e){q("moderador")}}),Object(u.jsx)("label",{class:"custom-control-label",for:"customRadio1",children:"Moderador"})]}),Object(u.jsxs)("div",{class:"custom-control custom-radio",children:[Object(u.jsx)("input",{type:"radio",id:"customRadio2",name:"customRadio",class:"custom-control-input",onChange:function(e){q("admin")}}),Object(u.jsx)("label",{class:"custom-control-label",for:"customRadio2",children:"Administrador"})]}),Object(u.jsx)("div",{className:"form-group mt-3",children:Object(u.jsx)("input",{type:"submit",class:"btn btn-primary btn-block",id:"submit",value:"Registrar usuario"})}),""!==ee&&Object(u.jsx)("p",{className:" alert alert-danger",children:ee}),""!==se&&Object(u.jsx)("p",{className:"alert alert-success",children:se})]})}),Object(u.jsx)("div",{className:"lg-3"})]})}),Object(u.jsx)(V,{})]})},Ce=function(){var e=Object(c.useState)(""),t=Object(O.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(""),i=Object(O.a)(n,2),r=i[0],o=i[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"lg-3"}),Object(u.jsxs)("div",{className:"lg-9 mt-5 login-form",children:[Object(u.jsx)("h1",{className:"text-center",children:"Recuperar contrase\xf1a"}),""!==r&&Object(u.jsx)("p",{className:"alert alert-success",children:r}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese su usuario/correo",name:"email",required:"required",onChange:function(e){s(e.target.value)}})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("button",{onClick:function(){p.a.post("/reset-password",{email:a}).then((function(e){o(e.data.mensaje),setTimeout((function(){o("")}),5e3)}))},class:"btn btn-primary btn-block",children:"Enviar correo de recuperaci\xf3n de contrase\xf1a"})})]}),Object(u.jsx)("div",{className:"lg-3"})]})}),Object(u.jsx)(V,{})]})},Se=pe.a().shape({password:pe.c().min(4,"Ingrese una contrase\xf1a m\xednimo 4 caracteres").max(15,"Ingrese una contrase\xf1a m\xe1ximo 15 caracteres").required("Ingrese una contrase\xf1a entre 4 y 15 caracteres"),confirmPassword:pe.c().oneOf([pe.b("password"),null])}),we=function(){var e,t=Object(c.useState)(""),a=Object(O.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(""),r=Object(O.a)(i,2),o=r[0],j=r[1],d=Object(l.g)().token,m=Object(fe.useForm)({resolver:Object(ge.yupResolver)(Se)}),h=m.register,x=m.handleSubmit,f=m.errors;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"lg-3"}),Object(u.jsxs)("div",{className:"lg-9 mt-5 login-form",children:[Object(u.jsx)("h1",{className:"text-center",children:"Crear nueva contrase\xf1a"}),""!==o&&Object(u.jsx)("p",{className:"alert alert-success",children:o}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("p",{children:"Ingrese una contrase\xf1a:"}),Object(u.jsx)("input",{type:"password",className:"form-control",placeholder:"Ingrese contrase\xf1a",name:"password",required:"required",onChange:function(e){n(e.target.value)},ref:h}),Object(u.jsx)("strong",{children:null===(e=f.password)||void 0===e?void 0:e.message})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("p",{children:"Confirme su contrase\xf1a:"}),Object(u.jsx)("input",{type:"password",className:"form-control",placeholder:"Confirmar contrase\xf1a",name:"confirmPassword",required:"required",onChange:function(e){n(e.target.value)},ref:h}),Object(u.jsx)("strong",{children:f.confirmPassword&&"Las contrase\xf1as deben coincidir"})]}),Object(u.jsx)("div",{className:"form-group mt-3",children:Object(u.jsx)("button",{class:"btn btn-primary btn-block",id:"submit",value:"Registrar usuario",onClick:x((function(){p.a.post("/newPassword",{password:s,token:d}).then((function(e){console.log(e),j(e.data.mensaje),setTimeout((function(){j(""),window.location="/"}),5e3)}))})),children:"Cambiar contrase\xf1a"})})]})]})}),Object(u.jsx)(V,{})]})},ke=function(){var e=Object(c.useState)(!1),t=Object(O.a)(e,2),a=t[0],s=t[1],n=Object(l.f)();p.a.defaults.withCredentials=!0,Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),s(!0)):(console.log("no estoy autorizado"+e.data.authorized),window.location="/")}))}),[]);return Object(u.jsxs)(u.Fragment,{children:[" ",a&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsxs)("div",{class:"row mt-5 ml-1 mr-1 mb-5",children:[Object(u.jsx)("div",{class:"col-sm-3 mb-1",children:Object(u.jsx)("div",{class:"card",children:Object(u.jsxs)("div",{class:"card-body",children:[Object(u.jsx)("h4",{class:"card-title",children:"Avisos"}),Object(u.jsx)("p",{children:"Ir a formulario para a\xf1adir avisos"}),Object(u.jsx)("button",{onClick:function(e){e.preventDefault(),n.push("/formularioAvisos")},class:"btn btn-primary btn-lg",children:"Formulario avisos"})]})})}),Object(u.jsx)("div",{class:"col-sm-3 mb-1",children:Object(u.jsx)("div",{class:"card",children:Object(u.jsxs)("div",{class:"card-body",children:[Object(u.jsx)("h4",{class:"card-title",children:"Oferta acad\xe9mica"}),Object(u.jsx)("p",{children:"Ir a formulario para a\xf1adir oferta acad\xe9mica"}),Object(u.jsx)("button",{onClick:function(e){e.preventDefault(),n.push("/formularioCarreras")},class:"btn btn-primary btn-lg",children:"Formulario oferta acad\xe9mica"})]})})}),Object(u.jsx)("div",{class:"col-sm-3 mb-1",children:Object(u.jsx)("div",{class:"card",children:Object(u.jsxs)("div",{class:"card-body",children:[Object(u.jsx)("h4",{class:"card-title",children:"Alumnos"}),Object(u.jsx)("p",{children:"Ir a formulario para a\xf1adir secci\xf3n en alumnos"}),Object(u.jsx)("button",{onClick:function(e){e.preventDefault(),n.push("/formularioAlumnos")},class:"btn btn-primary btn-lg",children:"Formulario oferta acad\xe9mica"})]})})}),Object(u.jsx)("div",{class:"col-sm-3 mb-1",children:Object(u.jsx)("div",{class:"card",children:Object(u.jsxs)("div",{class:"card-body",children:[Object(u.jsx)("h4",{class:"card-title",children:"Servicios"}),Object(u.jsx)("p",{children:"Ir a formulario para a\xf1adir secci\xf3n en servicios"}),Object(u.jsx)("button",{onClick:function(e){e.preventDefault(),n.push("/formularioServicios")},class:"btn btn-primary btn-lg",children:"Formulario oferta acad\xe9mica"})]})})}),Object(u.jsx)("div",{class:"col-sm-3 mb-1",children:Object(u.jsx)("div",{class:"card",children:Object(u.jsxs)("div",{class:"card-body",children:[Object(u.jsx)("h4",{class:"card-title",children:"Carrusel de imagenes"}),Object(u.jsx)("p",{children:"Ir a formulario para a\xf1adir imagenes al carrusel"}),Object(u.jsx)("button",{onClick:function(e){e.preventDefault(),n.push("/formularioCarousell")},class:"btn btn-primary btn-lg",children:"Formulario oferta acad\xe9mica"})]})})}),Object(u.jsx)("div",{class:"col-sm-3 mb-1",children:Object(u.jsx)("div",{class:"card",children:Object(u.jsxs)("div",{class:"card-body",children:[Object(u.jsx)("h4",{class:"card-title",children:"Moodle"}),Object(u.jsx)("p",{children:"Ir a formulario para a\xf1adir secci\xf3n en moodle"}),Object(u.jsx)("button",{onClick:function(e){e.preventDefault(),n.push("/formularioMoodle")},class:"btn btn-primary btn-lg",children:"Formulario oferta acad\xe9mica"})]})})}),Object(u.jsx)("div",{class:"col-sm-3 mb-1",children:Object(u.jsx)("div",{class:"card",children:Object(u.jsxs)("div",{class:"card-body",children:[Object(u.jsx)("h4",{class:"card-title",children:"Instituci\xf3n"}),Object(u.jsx)("p",{children:"Ir a formulario para a\xf1adir secci\xf3n en instituci\xf3n"}),Object(u.jsx)("button",{onClick:function(e){e.preventDefault(),n.push("/formularioInstitucion")},class:"btn btn-primary btn-lg",children:"Formulario oferta acad\xe9mica"})]})})}),Object(u.jsx)("div",{class:"col-sm-3 mb-1",children:Object(u.jsx)("div",{class:"card",children:Object(u.jsxs)("div",{class:"card-body",children:[Object(u.jsx)("h4",{class:"card-title",children:"Editar moodle"}),Object(u.jsx)("p",{children:"Ir a secci\xf3n para editar elementos del moodle"}),Object(u.jsx)("button",{onClick:function(e){e.preventDefault(),n.push("/formularioAvisos")},class:"btn btn-primary btn-lg",children:"Formulario oferta acad\xe9mica"})]})})})]}),Object(u.jsx)(V,{})]})]})},ye=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)(k,{}),Object(u.jsx)("div",{className:"map",children:Object(u.jsx)("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3526.2268058334967!2d-110.89235726545246!3d27.895012434685587!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x86c970a075d21e87%3A0xbdbcabdc4ed64e81!2sInstituto%20Tecnol%C3%B3gico%20de%20Guaymas!5e0!3m2!1ses-419!2smx!4v1589587298250!5m2!1ses-419!2smx",border:0,"aria-hidden":!1,tabindex:0,width:600,height:450,frameBorder:0})}),Object(u.jsx)(V,{})]})},Fe=function(){var e=Object(c.useState)([]),t=Object(O.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!1),i=Object(O.a)(n,2),r=i[0],l=i[1];return p.a.defaults.withCredentials=!0,Object(c.useEffect)((function(){p.a.get("/getMoodle").then((function(e){s(e.data)}))}),[]),Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),l(!0)):(console.log("no estoy autorizado"+e.data.authorized),window.location="/")}))}),[]),Object(u.jsx)(u.Fragment,{children:r&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)(k,{}),a&&a.map((function(e,t){return Object(u.jsxs)("div",{className:"moodle",children:[Object(u.jsx)("h3",{className:"avisoTitulo",children:e.titulo},e.id),Object(u.jsx)("p",{children:e.servidor}),Object(u.jsxs)("div",{className:"moodleButtons",children:[Object(u.jsx)(x.a,{className:"button",children:Object(u.jsx)(o.b,{to:"/editarMoodle/".concat(e.id),className:"link",children:"Editar"})}),Object(u.jsx)(x.a,{className:"button",children:Object(u.jsx)(o.b,{to:"/eliminarMoodle/".concat(e.id),className:"link",children:"Eliminar"})})]})]})})),Object(u.jsx)(V,{})]})})},ze=function(){var e=Object(c.useState)(!1),t=Object(O.a)(e,2),a=(t[0],t[1]),s=Object(c.useState)(""),n=Object(O.a)(s,2),i=n[0],r=n[1],j=Object(c.useState)(""),d=Object(O.a)(j,2),m=d[0],h=d[1],f=Object(c.useState)(0),g=Object(O.a)(f,2),N=g[0],C=g[1],S=Object(c.useState)([]),w=Object(O.a)(S,2),k=w[0],y=w[1],F=Object(l.g)().id,z=Object(c.useState)(!1),E=Object(O.a)(z,2),T=E[0],I=E[1];p.a.defaults.withCredentials=!0,Object(c.useEffect)((function(){p.a.get("/getMoodleData/"+F,{}).then((function(e){y(e.data[0])}))}),[F]),Object(c.useEffect)((function(){r(k.titulo),h(k.servidor)}),[k]),Object(c.useEffect)((function(){a(""===i||""===m)}),[i,m]);Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),I(!0)):(console.log("no estoy autorizado"+e.data.authorized),window.location="/")}))}),[]);var D=function(){var e=Object(ne.a)(se.a.mark((function e(t){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==i&&""!==m?p.a.post("/editMoodle/"+F,{titulo:i,servidor:m}).then((function(){C(1),setTimeout((function(){C(0)}),2e3)})):(C(2),setTimeout((function(){C(0)}),2e3));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:T&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)(W.a,{fluid:!0,className:"mt-5 mb-5",children:Object(u.jsxs)(X.a,{children:[Object(u.jsx)(Z.a,{lg:4}),Object(u.jsx)(Z.a,{lg:4,children:Object(u.jsxs)(ie.a,{id:"formMoodle",children:[1===N&&Object(u.jsx)(re,{mensaje:"Elemento moodle editado correctamente"}),2===N&&Object(u.jsx)(oe,{mensaje:"Rellenar todos los campos"}),Object(u.jsxs)(ie.a.Group,{controlId:"titulo",children:[Object(u.jsx)(ie.a.Label,{children:"T\xedtulo"}),Object(u.jsx)(ie.a.Control,{type:"text",value:i,onChange:function(e){!function(e){r(e)}(e.target.value)}})]}),Object(u.jsxs)(ie.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(u.jsx)(ie.a.Label,{children:"Servidor"}),Object(u.jsx)(ie.a.Control,{type:"text",value:m,onChange:function(e){!function(e){h(e)}(e.target.value)}})]}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(x.a,{variant:"primary",onClick:D,children:"Editar elemento"}),Object(u.jsx)(x.a,{children:Object(u.jsx)(o.b,{to:"/crudMoodle",className:"link",children:"Regresar"})})]})]})}),Object(u.jsx)(Z.a,{lg:4})]})}),Object(u.jsx)(V,{})]})})},Ee=function(){var e=Object(l.g)().id,t=Object(c.useState)([]),a=Object(O.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(0),r=Object(O.a)(i,2),j=r[0],d=r[1],m=Object(c.useState)(!1),h=Object(O.a)(m,2),f=h[0],g=h[1];p.a.defaults.withCredentials=!0,Object(c.useEffect)((function(){p.a.get("/getMoodleData/"+e,{}).then((function(e){n(e.data[0])}))}),[e]),Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),g(!0)):(console.log("no estoy autorizado"+e.data.authorized),window.location="/")}))}),[]);var N=function(){var t=Object(ne.a)(se.a.mark((function t(a){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),p.a.get("/deleteMoodle/"+e,{}).then((function(){d(1)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:f&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)(k,{}),0===j&&Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(X.a,{children:[Object(u.jsx)(Z.a,{lg:1}),Object(u.jsx)(Z.a,{lg:8,children:Object(u.jsx)("h1",{children:"\xbfDesea eliminar este elemento moodle?"})}),Object(u.jsx)(Z.a,{lg:3})]}),Object(u.jsxs)(X.a,{children:[Object(u.jsx)(Z.a,{lg:1}),Object(u.jsxs)(Z.a,{lg:4,children:[Object(u.jsx)("h4",{children:"Titulo: "})," ",Object(u.jsx)("p",{children:s.titulo})]}),Object(u.jsxs)(Z.a,{lg:4,children:[Object(u.jsx)("h4",{children:"Servidor: "})," ",Object(u.jsx)("p",{children:s.servidor})]}),Object(u.jsx)(Z.a,{lg:3})]}),Object(u.jsxs)(X.a,{children:[Object(u.jsx)(Z.a,{lg:1}),Object(u.jsxs)(Z.a,{lg:4,children:[Object(u.jsx)(x.a,{className:"button",onClick:N,children:"Si"}),Object(u.jsx)(x.a,{className:"button",children:Object(u.jsx)(o.b,{to:"/crudMoodle",className:"link",children:"No"})})]}),Object(u.jsx)(Z.a,{lg:4}),Object(u.jsx)(Z.a,{lg:3})]})]}),1===j&&Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(X.a,{children:[Object(u.jsx)(Z.a,{lg:1}),Object(u.jsx)(Z.a,{lg:8,children:Object(u.jsx)("h1",{children:"Elemento moodle eliminado exitosamente"})}),Object(u.jsx)(Z.a,{lg:3})]}),Object(u.jsx)(X.a,{children:Object(u.jsx)(x.a,{className:"button",children:Object(u.jsx)(o.b,{to:"/crudMoodle",className:"link",children:"Regresar"})})})]}),Object(u.jsx)(V,{})]})})})},Te=a(40),Ie=a(41),De=a.n(Ie),Ae=a(25),qe=a.n(Ae),Pe=pe.a().shape({titulo:pe.c().min(4,"El t\xedtulo debe contener al menos 4 caracteres").required("Ingrese el t\xedtulo que quiera que aparezca en la barra de navegaci\xf3n")}),Le=function(){var e,t,a=Object(fe.useForm)({resolver:Object(ge.yupResolver)(Pe)}),s=a.register,n=a.handleSubmit,i=a.errors,r=Object(c.useState)(""),o=Object(O.a)(r,2),l=o[0],j=o[1],d=Object(c.useState)(""),m=Object(O.a)(d,2),h=m[0],x=m[1],f=Object(c.useState)(""),g=Object(O.a)(f,2),N=g[0],C=g[1],S=Object(c.useState)(""),w=Object(O.a)(S,2),k=w[0],y=w[1],F=Object(c.useState)(""),z=Object(O.a)(F,2),E=z[0],T=z[1],I=Object(c.useState)({}),D=Object(O.a)(I,2),A=(D[0],D[1]),q=Object(c.useState)(""),P=Object(O.a)(q,2),L=(P[0],P[1]),R=Object(c.useState)("Elige un archivo"),M=Object(O.a)(R,2),G=M[0],B=M[1],_=Object(c.useState)(!1),H=Object(O.a)(_,2),Y=H[0],K=H[1];p.a.defaults.withCredentials=!0,Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),K(!0)):(console.log("no estoy autorizado"+e.data.authorized),window.location="/")}))}),[]);var $="",J=function(){var e=Object(ne.a)(se.a.mark((function e(t){var a,c,s,n,i;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==l){e.next=5;break}C("No se puede dejar vaci\xf3 el campo del contenido de la nota"),setTimeout((function(){C("")}),5e3),e.next=22;break;case 5:if((a=new FormData).append("file",E),""===E){e.next=21;break}return e.prev=8,e.next=11,p.a.post("/uploadsServicios",a,{headers:{"Content-Type":"multipart/form-data"}});case 11:c=e.sent,s=c.data,n=s.fileName,i=s.filePath,$=i,A({fileName:n,filePath:i}),L("Archivo subido"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),500===e.t0.response.status?L("Hubo un problema con el servidor"):L(e.t0.response.data.msg);case 21:p.a.post("/publicarServicio",{titulo:h,value:l,file:$}).then((function(e){console.log(e.data),y(e.data.mensaje),setTimeout((function(){y("")}),5e3)}));case 22:case"end":return e.stop()}}),e,null,[[8,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:Y&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{ckassName:"row",children:[Object(u.jsx)("div",{className:"lg-3"}),Object(u.jsxs)("div",{className:"lg-9 mt-5",children:[Object(u.jsx)("h1",{className:"mb-3",children:"Formulario servicios"}),""!==k&&Object(u.jsx)("p",{className:"alert alert-success",children:k}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("h2",{children:"T\xedtulo"}),Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese el t\xedtulo",name:"titulo",required:"required",onChange:function(e){x(e.target.value)},ref:s}),(null===(e=i.titulo)||void 0===e?void 0:e.message)&&Object(u.jsx)("p",{className:"aler alert-danger",children:null===(t=i.titulo)||void 0===t?void 0:t.message}),Object(u.jsx)("p",{className:"mt-2",children:"Seleccione un archivo si desea subir uno opcional"}),Object(u.jsxs)("div",{className:"custom-file ",children:[Object(u.jsx)("input",{type:"file",className:"custom-file-input",id:"customFile",onChange:function(e){T(e.target.files[0]),B(e.target.files[0].name)}}),Object(u.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:G})]})]}),Object(u.jsx)("h2",{children:"Contenido"}),Object(u.jsx)(Te.CKEditor,{editor:De.a,onChange:function(e,t){var a=t.getData();j(a)},config:{toolbar:["heading","|","bold","italic","|","link","numberedList","bulletedList","|","insertTable","tableColumn","tableRow","|","undo","redo"]}}),""!==N&&Object(u.jsx)("p",{className:"alert alert-danger",children:N}),Object(u.jsxs)("div",{className:"contenido-servicio mt-3 mb-3",children:[Object(u.jsx)("h1",{children:"Previsualizaci\xf3n"}),qe()(l)]})]}),Object(u.jsx)("div",{className:"lg-3",children:Object(u.jsx)("button",{className:"mt-3",onClick:n(J),children:"A\xf1adir"})})]})}),Object(u.jsx)(V,{})]})})},Re=function(){var e=Object(l.g)().id,t=Object(c.useState)(""),a=Object(O.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(""),r=Object(O.a)(i,2),j=r[0],d=r[1],m=Object(c.useState)(!1),h=Object(O.a)(m,2),x=h[0],f=h[1];p.a.defaults.withCredentials=!0,Object(c.useEffect)((function(){p.a.get("/getServicioIndividual/"+e).then((function(e){console.log(e),n(e.data.result[0].contenido),d(e.data.result[0].file)}))}),[e]),Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),f(!0)):console.log("no estoy autorizado"+e.data.authorized)}))}),[]);var g=function(){var t=Object(ne.a)(se.a.mark((function t(a){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p.a.get("/deleteServicio/"+e,{}).then((function(e){console.log(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(ne.a)(se.a.mark((function t(a){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),""===j&&g(),""!==j&&p.a.post("/uploadsServicios-editDel/".concat(e)).then((function(){g()}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-lg-12 mt-5",children:[Object(u.jsx)("div",{className:"contenido-servicio mt-3 mb-3",children:qe()(s)}),""!==j&&Object(u.jsxs)(o.b,{to:j,target:"_blank",children:[Object(u.jsx)(U.a,{className:"avisoFile"}),Object(u.jsx)("p",{children:"Descargar documento"})]}),x&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{className:"button",children:Object(u.jsx)(o.b,{to:"/editarServicio/".concat(e),className:"link",children:"Editar"})}),Object(u.jsx)("button",{className:"button",onClick:N,children:"Eliminar nota"})]})]})})}),Object(u.jsx)(V,{})]})},Me=pe.a().shape({titulo:pe.c().min(4,"El t\xedtulo debe contener al menos 4 caracteres").required("Ingrese el t\xedtulo que quiera que aparezca en la barra de navegaci\xf3n")}),Ge=function(){var e,t,a=Object(fe.useForm)({resolver:Object(ge.yupResolver)(Me)}),s=a.register,n=a.handleSubmit,i=a.errors,r=Object(l.g)().id,o=Object(c.useState)(""),j=Object(O.a)(o,2),d=j[0],m=j[1],h=Object(c.useState)(""),x=Object(O.a)(h,2),f=x[0],g=x[1],N=Object(c.useState)(""),C=Object(O.a)(N,2),S=C[0],w=C[1],k=Object(c.useState)(""),y=Object(O.a)(k,2),F=y[0],z=y[1],E=Object(c.useState)(""),T=Object(O.a)(E,2),I=T[0],D=T[1],A=Object(c.useState)({}),q=Object(O.a)(A,2),P=(q[0],q[1]),L=Object(c.useState)(""),R=Object(O.a)(L,2),M=(R[0],R[1]),G=Object(c.useState)("Elige un archivo"),B=Object(O.a)(G,2),_=B[0],H=B[1],Y=Object(c.useState)(!1),K=Object(O.a)(Y,2),$=K[0],J=K[1];p.a.defaults.withCredentials=!0;var Q=function(e){p.a.post("/editarServicio",{id:r,titulo:f,value:d,file:e}).then((function(e){console.log(e.data),z(e.data.mensaje),setTimeout((function(){z("")}),5e3),H("Elige un archivo"),D("")}))},U=function(){var e=Object(ne.a)(se.a.mark((function e(){var t,a,c,s,n;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==d&&null!==d){e.next=5;break}w("No se puede dejar vaci\xf3 el campo del contenido de la nota"),setTimeout((function(){w("")}),5e3),e.next=22;break;case 5:if((t=new FormData).append("file",I),""===I&&p.a.post("/uploadsServicios-editDel/".concat(r)).then((function(e){var t=e.data.filePath;console.log(e.data),Q(t)})),""===I){e.next=22;break}return e.prev=9,e.next=12,p.a.post("/uploads-editServicio/".concat(r),t,{headers:{"Content-Type":"multipart/form-data"}});case 12:a=e.sent,c=a.data,s=c.fileName,n=c.filePath,P({fileName:s,filePath:n}),M("Archivo subido"),Q(n),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(9),500===e.t0.response.status?M("Hubo un problema con el servidor"):M(e.t0.response.data.msg);case 22:case"end":return e.stop()}}),e,null,[[9,19]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){p.a.get("/getServicioIndividual/"+r).then((function(e){g(e.data.result[0].titulo),m(e.data.result[0].contenido)}))}),[r]),Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),J(!0)):(console.log("no estoy autorizado"+e.data.authorized),window.location="/")}))}),[]),Object(u.jsx)(u.Fragment,{children:$&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{ckassName:"row",children:[Object(u.jsx)("div",{className:"lg-3"}),Object(u.jsxs)("div",{className:"lg-9 mt-5",children:[Object(u.jsx)("h1",{className:"mb-3",children:"Formulario servicios"}),""!==F&&Object(u.jsx)("p",{className:"alert alert-success",children:F}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("h2",{children:"T\xedtulo"}),Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese el t\xedtulo",name:"titulo",required:"required",onChange:function(e){g(e.target.value)},ref:s,value:f}),(null===(e=i.titulo)||void 0===e?void 0:e.message)&&Object(u.jsx)("p",{className:"aler alert-danger",children:null===(t=i.titulo)||void 0===t?void 0:t.message}),Object(u.jsx)("p",{className:"mt-2",children:"Seleccione un archivo si desea subir uno opcional"}),Object(u.jsxs)("div",{className:"custom-file ",children:[Object(u.jsx)("input",{type:"file",className:"custom-file-input",id:"customFile",onChange:function(e){D(e.target.files[0]),H(e.target.files[0].name)}}),Object(u.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:_})]})]}),Object(u.jsx)("h2",{children:"Contenido"}),Object(u.jsx)(Te.CKEditor,{editor:De.a,data:d,onChange:function(e,t){var a=t.getData();m(a)},config:{toolbar:["heading","|","bold","italic","|","link","numberedList","bulletedList","|","insertTable","tableColumn","tableRow","|","undo","redo"]}}),""!==S&&Object(u.jsx)("p",{className:"alert alert-danger",children:S}),Object(u.jsxs)("div",{className:"contenido-servicio mt-3 mb-3",children:[Object(u.jsx)("h1",{children:"Previsualizaci\xf3n"}),qe()(d)]})]}),Object(u.jsxs)("div",{className:"lg-3",children:[Object(u.jsx)("button",{className:"mt-3",onClick:n(U),children:"Editar"}),""!==F&&Object(u.jsx)("p",{className:"alert alert-success",children:F})]})]})}),Object(u.jsx)(V,{})]})})},Be=pe.a().shape({titulo:pe.c().min(4,"El t\xedtulo debe contener al menos 4 caracteres").required("Ingrese el t\xedtulo que quiera que aparezca en la barra de navegaci\xf3n")}),_e=function(){var e,t,a=Object(fe.useForm)({resolver:Object(ge.yupResolver)(Be)}),s=a.register,n=a.handleSubmit,i=a.errors,r=Object(c.useState)(""),o=Object(O.a)(r,2),l=o[0],j=o[1],d=Object(c.useState)(""),m=Object(O.a)(d,2),h=m[0],x=m[1],f=Object(c.useState)(""),g=Object(O.a)(f,2),N=g[0],C=g[1],S=Object(c.useState)(""),w=Object(O.a)(S,2),k=w[0],y=w[1],F=Object(c.useState)(""),z=Object(O.a)(F,2),E=z[0],T=z[1],I=Object(c.useState)({}),D=Object(O.a)(I,2),A=(D[0],D[1]),q=Object(c.useState)(""),P=Object(O.a)(q,2),L=(P[0],P[1]),R=Object(c.useState)("Elige un archivo"),M=Object(O.a)(R,2),G=M[0],B=M[1],_=Object(c.useState)(!1),H=Object(O.a)(_,2),Y=H[0],K=H[1];p.a.defaults.withCredentials=!0;var $="";Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),K(!0)):(console.log("no estoy autorizado"+e.data.authorized),window.location="/")}))}),[]);var J=function(){var e=Object(ne.a)(se.a.mark((function e(t){var a,c,s,n,i;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==l){e.next=5;break}C("No se puede dejar vaci\xf3 el campo del contenido de la nota"),setTimeout((function(){C("")}),5e3),e.next=22;break;case 5:if((a=new FormData).append("file",E),""===E){e.next=21;break}return e.prev=8,e.next=11,p.a.post("/uploadsAlumnos",a,{headers:{"Content-Type":"multipart/form-data"}});case 11:c=e.sent,s=c.data,n=s.fileName,i=s.filePath,$=i,A({fileName:n,filePath:i}),L("Archivo subido"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),500===e.t0.response.status?L("Hubo un problema con el servidor"):L(e.t0.response.data.msg);case 21:p.a.post("/publicarAlumno",{titulo:h,value:l,file:$}).then((function(e){console.log(e.data),y(e.data.mensaje),setTimeout((function(){y("")}),5e3)}));case 22:case"end":return e.stop()}}),e,null,[[8,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:Y&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{ckassName:"row",children:[Object(u.jsx)("div",{className:"lg-3"}),Object(u.jsxs)("div",{className:"lg-9 mt-5",children:[Object(u.jsx)("h1",{className:"mb-3",children:"Formulario secci\xf3n alumnos"}),""!==k&&Object(u.jsx)("p",{className:"alert alert-success",children:k}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("h2",{children:"T\xedtulo"}),Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese el t\xedtulo",name:"titulo",required:"required",onChange:function(e){x(e.target.value)},ref:s}),(null===(e=i.titulo)||void 0===e?void 0:e.message)&&Object(u.jsx)("p",{className:"aler alert-danger",children:null===(t=i.titulo)||void 0===t?void 0:t.message}),Object(u.jsx)("p",{className:"mt-2",children:"Seleccione un archivo si desea subir uno opcional"}),Object(u.jsxs)("div",{className:"custom-file ",children:[Object(u.jsx)("input",{type:"file",className:"custom-file-input",id:"customFile",onChange:function(e){T(e.target.files[0]),B(e.target.files[0].name)}}),Object(u.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:G})]})]}),Object(u.jsx)("h2",{children:"Contenido"}),Object(u.jsx)(Te.CKEditor,{editor:De.a,onChange:function(e,t){var a=t.getData();j(a)},config:{toolbar:["heading","|","bold","italic","|","link","numberedList","bulletedList","|","insertTable","tableColumn","tableRow","|","undo","redo"]}}),""!==N&&Object(u.jsx)("p",{className:"alert alert-danger",children:N}),Object(u.jsxs)("div",{className:"contenido-servicio mt-3 mb-3",children:[Object(u.jsx)("h1",{children:"Previsualizaci\xf3n"}),qe()(l)]})]}),Object(u.jsx)("div",{className:"lg-3",children:Object(u.jsx)("button",{className:"mt-3",onClick:n(J),children:"A\xf1adir"})})]})}),Object(u.jsx)(V,{})]})})},He=function(){var e=Object(l.g)().id,t=Object(c.useState)(""),a=Object(O.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(""),r=Object(O.a)(i,2),j=r[0],d=r[1],m=Object(c.useState)(!1),h=Object(O.a)(m,2),x=h[0],f=h[1];p.a.defaults.withCredentials=!0,Object(c.useEffect)((function(){p.a.get("/getAlumnoIndividual/"+e).then((function(e){n(e.data.result[0].contenido),d(e.data.result[0].file)}))}),[e]),Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),f(!0)):console.log("no estoy autorizado"+e.data.authorized)}))}),[]);var g=function(){var t=Object(ne.a)(se.a.mark((function t(a){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p.a.get("/deleteAlumno/"+e,{}).then((function(e){console.log(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(ne.a)(se.a.mark((function t(a){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),""===j&&g(),""!==j&&p.a.post("/uploadsAlumnos-editDel/".concat(e)).then((function(){g()}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-lg-12 mt-5",children:[Object(u.jsx)("div",{className:"contenido-servicio mt-3 mb-3",children:qe()(s)}),""!==j&&Object(u.jsxs)(o.b,{to:j,target:"_blank",children:[Object(u.jsx)(U.a,{className:"avisoFile"}),Object(u.jsx)("p",{children:"Descargar documento"})]}),x&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{className:"button",children:Object(u.jsx)(o.b,{to:"/editarAlumno/".concat(e),className:"link",children:"Editar"})}),Object(u.jsx)("button",{className:"button",onClick:N,children:"Eliminar nota"})]})]})})}),Object(u.jsx)(V,{})]})},Ye=pe.a().shape({titulo:pe.c().min(4,"El t\xedtulo debe contener al menos 4 caracteres").required("Ingrese el t\xedtulo que quiera que aparezca en la barra de navegaci\xf3n")}),Ke=function(){var e,t,a=Object(fe.useForm)({resolver:Object(ge.yupResolver)(Ye)}),s=a.register,n=a.handleSubmit,i=a.errors,r=Object(l.g)().id,o=Object(c.useState)(""),j=Object(O.a)(o,2),d=j[0],m=j[1],h=Object(c.useState)(""),x=Object(O.a)(h,2),f=x[0],g=x[1],N=Object(c.useState)(""),C=Object(O.a)(N,2),S=C[0],w=C[1],k=Object(c.useState)(""),y=Object(O.a)(k,2),F=y[0],z=y[1],E=Object(c.useState)(""),T=Object(O.a)(E,2),I=T[0],D=T[1],A=Object(c.useState)(""),q=Object(O.a)(A,2),P=(q[0],q[1]),L=Object(c.useState)(""),R=Object(O.a)(L,2),M=(R[0],R[1]),G=Object(c.useState)("Elige un archivo"),B=Object(O.a)(G,2),_=B[0],H=B[1],Y=Object(c.useState)(!1),K=Object(O.a)(Y,2),$=K[0],J=K[1];p.a.defaults.withCredentials=!0;var Q=function(e){p.a.post("/editarAlumno",{id:r,titulo:f,value:d,file:e}).then((function(t){console.log(t.data),console.log(e+"soy filepath"),z(t.data.mensaje),setTimeout((function(){z("")}),5e3),H("Elige un archivo"),D("")}))},U=function(){var e=Object(ne.a)(se.a.mark((function e(){var t,a,c,s,n;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==d&&null!==d){e.next=5;break}w("No se puede dejar vaci\xf3 el campo del contenido de la nota"),setTimeout((function(){w("")}),5e3),e.next=22;break;case 5:if((t=new FormData).append("file",I),""===I&&p.a.post("/uploadsAlumnos-editDel/".concat(r)).then((function(e){var t=e.data.filePath;console.log(e.data),Q(t)})),""===I){e.next=22;break}return e.prev=9,e.next=12,p.a.post("/uploads-editAlumno/".concat(r),t,{headers:{"Content-Type":"multipart/form-data"}});case 12:a=e.sent,c=a.data,s=c.fileName,n=c.filePath,M({fileName:s,filePath:n}),P("Archivo subido"),Q(n),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(9),500===e.t0.response.status?P("Hubo un problema con el servidor"):P(e.t0.response.data.msg);case 22:case"end":return e.stop()}}),e,null,[[9,19]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){p.a.get("/getAlumnoIndividual/"+r).then((function(e){console.log(e),g(e.data.result[0].titulo),m(e.data.result[0].contenido)}))}),[r]),Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),J(!0)):(console.log("no estoy autorizado"+e.data.authorized),window.location="/")}))}),[]),Object(u.jsx)(u.Fragment,{children:$&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{ckassName:"row",children:[Object(u.jsx)("div",{className:"lg-3"}),Object(u.jsxs)("div",{className:"lg-9 mt-5",children:[Object(u.jsx)("h1",{className:"mb-3",children:"Formulario alumnos"}),""!==F&&Object(u.jsx)("p",{className:"alert alert-success",children:F}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("h2",{children:"T\xedtulo"}),Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese el t\xedtulo",name:"titulo",required:"required",onChange:function(e){g(e.target.value)},ref:s,value:f}),(null===(e=i.titulo)||void 0===e?void 0:e.message)&&Object(u.jsx)("p",{className:"aler alert-danger",children:null===(t=i.titulo)||void 0===t?void 0:t.message}),Object(u.jsx)("p",{className:"mt-2",children:"Seleccione un archivo si desea subir uno opcional"}),Object(u.jsxs)("div",{className:"custom-file ",children:[Object(u.jsx)("input",{type:"file",className:"custom-file-input",id:"customFile",onChange:function(e){D(e.target.files[0]),H(e.target.files[0].name)}}),Object(u.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:_})]})]}),Object(u.jsx)("h2",{children:"Contenido"}),Object(u.jsx)(Te.CKEditor,{editor:De.a,data:d,onChange:function(e,t){var a=t.getData();m(a)},config:{toolbar:["heading","|","bold","italic","|","link","numberedList","bulletedList","|","insertTable","tableColumn","tableRow","|","undo","redo"]}}),""!==S&&Object(u.jsx)("p",{className:"alert alert-danger",children:S}),Object(u.jsxs)("div",{className:"contenido-servicio mt-3 mb-3",children:[Object(u.jsx)("h1",{children:"Previsualizaci\xf3n"}),qe()(d)]})]}),Object(u.jsxs)("div",{className:"lg-3",children:[Object(u.jsx)("button",{className:"mt-3",onClick:n(U),children:"Editar"}),""!==F&&Object(u.jsx)("p",{className:"alert alert-success",children:F})]})]})}),Object(u.jsx)(V,{})]})})},Ve=pe.a().shape({titulo:pe.c().min(4,"El t\xedtulo debe contener al menos 4 caracteres").required("Ingrese el t\xedtulo que quiera que aparezca en la barra de navegaci\xf3n")}),$e=function(){var e,t,a=Object(fe.useForm)({resolver:Object(ge.yupResolver)(Ve)}),s=a.register,n=a.handleSubmit,i=a.errors,r=Object(c.useState)(""),o=Object(O.a)(r,2),l=o[0],j=o[1],d=Object(c.useState)(""),m=Object(O.a)(d,2),h=m[0],x=m[1],f=Object(c.useState)(""),g=Object(O.a)(f,2),N=g[0],C=g[1],S=Object(c.useState)(""),w=Object(O.a)(S,2),k=w[0],y=w[1],F=Object(c.useState)(""),z=Object(O.a)(F,2),E=z[0],T=z[1],I=Object(c.useState)({}),D=Object(O.a)(I,2),A=(D[0],D[1]),q=Object(c.useState)(""),P=Object(O.a)(q,2),L=(P[0],P[1]),R=Object(c.useState)("Elige un archivo"),M=Object(O.a)(R,2),G=M[0],B=M[1];p.a.defaults.withCredentials=!0;var _="",H=function(){var e=Object(ne.a)(se.a.mark((function e(t){var a,c,s,n,i;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==l){e.next=5;break}C("No se puede dejar vaci\xf3 el campo del contenido de la nota"),setTimeout((function(){C("")}),5e3),e.next=22;break;case 5:if((a=new FormData).append("file",E),""==E){e.next=21;break}return e.prev=8,e.next=11,p.a.post("/uploadsInstitucion",a,{headers:{"Content-Type":"multipart/form-data"}});case 11:c=e.sent,s=c.data,n=s.fileName,i=s.filePath,_=i,A({fileName:n,filePath:i}),L("Archivo subido"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),500===e.t0.response.status?L("Hubo un problema con el servidor"):L(e.t0.response.data.msg);case 21:p.a.post("/publicarInstitucion",{titulo:h,value:l,file:_}).then((function(e){console.log(e.data.mensaje),y(e.data.mensaje),setTimeout((function(){y("")}),5e3)}));case 22:case"end":return e.stop()}}),e,null,[[8,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{ckassName:"row",children:[Object(u.jsx)("div",{className:"lg-3"}),Object(u.jsxs)("div",{className:"lg-9 mt-5",children:[Object(u.jsx)("h1",{className:"mb-3",children:"Formulario secci\xf3n instituci\xf3n"}),""!==k&&Object(u.jsx)("p",{className:"alert alert-success",children:k}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("h2",{children:"T\xedtulo"}),Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese el t\xedtulo",name:"titulo",required:"required",onChange:function(e){x(e.target.value)},ref:s}),(null===(e=i.titulo)||void 0===e?void 0:e.message)&&Object(u.jsx)("p",{className:"aler alert-danger",children:null===(t=i.titulo)||void 0===t?void 0:t.message}),Object(u.jsx)("p",{className:"mt-2",children:"Seleccione un archivo si desea subir uno opcional"}),Object(u.jsxs)("div",{className:"custom-file ",children:[Object(u.jsx)("input",{type:"file",className:"custom-file-input",id:"customFile",onChange:function(e){T(e.target.files[0]),B(e.target.files[0].name)}}),Object(u.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:G})]})]}),Object(u.jsx)("h2",{children:"Contenido"}),Object(u.jsx)(Te.CKEditor,{editor:De.a,onChange:function(e,t){var a=t.getData();j(a)},config:{toolbar:["heading","|","bold","italic","|","link","numberedList","bulletedList","|","insertTable","tableColumn","tableRow","|","undo","redo"]}}),""!==N&&Object(u.jsx)("p",{className:"alert alert-danger",children:N}),Object(u.jsxs)("div",{className:"contenido-servicio mt-3 mb-3",children:[Object(u.jsx)("h1",{children:"Previsualizaci\xf3n"}),qe()(l)]})]}),Object(u.jsx)("div",{className:"lg-3",children:Object(u.jsx)("button",{className:"mt-3",onClick:n(H),children:"A\xf1adir"})}),""!==k&&Object(u.jsx)("p",{className:"alert alert-success",children:k})]})}),Object(u.jsx)(V,{})]})},Je=function(){var e=Object(l.g)().id,t=Object(c.useState)(""),a=Object(O.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(""),r=Object(O.a)(i,2),j=r[0],d=r[1],m=Object(c.useState)(!1),h=Object(O.a)(m,2),x=h[0],f=h[1];p.a.defaults.withCredentials=!0,Object(c.useEffect)((function(){p.a.get("/getInstitucionIndividual/"+e).then((function(e){console.log(e.data[0]),n(e.data[0].contenido),d(e.data[0].file)}))}),[e]),Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),f(!0)):console.log("no estoy autorizado"+e.data.authorized)}))}),[]);var g=function(){var t=Object(ne.a)(se.a.mark((function t(a){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p.a.get("/deleteInstitucion/"+e,{}).then((function(e){console.log(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(ne.a)(se.a.mark((function t(a){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),""===j&&g(),""!==j&&p.a.post("/uploadsInstitucion-editDel/".concat(e)).then((function(){g()}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-lg-12 mt-5",children:[Object(u.jsx)("div",{className:"contenido-servicio mt-3 mb-3",children:qe()(s)}),""!==j&&Object(u.jsxs)(o.b,{to:j,target:"_blank",children:[Object(u.jsx)(U.a,{className:"avisoFile"}),Object(u.jsx)("p",{children:"Descargar documento"})]}),x&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{className:"button",children:Object(u.jsx)(o.b,{to:"/editarInstitucion/".concat(e),className:"link",children:"Editar"})}),Object(u.jsx)("button",{className:"button",onClick:N,children:"Eliminar nota"})]})]})})}),Object(u.jsx)(V,{})]})},Qe=pe.a().shape({titulo:pe.c().min(4,"El t\xedtulo debe contener al menos 4 caracteres").required("Ingrese el t\xedtulo que quiera que aparezca en la barra de navegaci\xf3n")}),Ue=function(){var e,t,a=Object(fe.useForm)({resolver:Object(ge.yupResolver)(Qe)}),s=a.register,n=a.handleSubmit,i=a.errors,r=Object(l.g)().id,o=Object(c.useState)(""),j=Object(O.a)(o,2),d=j[0],m=j[1],h=Object(c.useState)(""),x=Object(O.a)(h,2),f=x[0],g=x[1],N=Object(c.useState)(""),C=Object(O.a)(N,2),S=C[0],w=C[1],k=Object(c.useState)(""),y=Object(O.a)(k,2),F=y[0],z=y[1],E=Object(c.useState)(""),T=Object(O.a)(E,2),I=T[0],D=T[1],A=Object(c.useState)(""),q=Object(O.a)(A,2),P=q[0],L=q[1],R=Object(c.useState)({}),M=Object(O.a)(R,2),G=(M[0],M[1]),B=Object(c.useState)(""),_=Object(O.a)(B,2),H=(_[0],_[1]),Y=Object(c.useState)("Elige un archivo"),K=Object(O.a)(Y,2),$=K[0],J=K[1],Q=Object(c.useState)(!1),U=Object(O.a)(Q,2),W=U[0],X=U[1];p.a.defaults.withCredentials=!0;var Z=function(e){p.a.post("/editarInstitucion",{id:r,titulo:f,value:d,file:e}).then((function(e){D(e.data.mensaje),L(e.data.mensajeError),J("Elige un archivo"),setTimeout((function(){D("")}),5e3),setTimeout((function(){L("")}),5e3),z("")}))},ee=function(){var e=Object(ne.a)(se.a.mark((function e(){var t,a,c,s,n;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==d&&null!==d){e.next=5;break}w("No se puede dejar vaci\xf3 el campo del contenido de la nota"),setTimeout((function(){w("")}),5e3),e.next=22;break;case 5:if((t=new FormData).append("file",F),""===F&&p.a.post("/uploadsInstitucion-editDel/".concat(r)).then((function(e){var t=e.data.filePath;Z(t)})),""===F){e.next=22;break}return e.prev=9,e.next=12,p.a.post("/uploads-editInstitucion/".concat(r),t,{headers:{"Content-Type":"multipart/form-data"}});case 12:a=e.sent,c=a.data,s=c.fileName,n=c.filePath,G({fileName:s,filePath:n}),H("Archivo subido"),Z(n),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(9),500===e.t0.response.status?H("Hubo un problema con el servidor"):H(e.t0.response.data.msg);case 22:case"end":return e.stop()}}),e,null,[[9,19]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){p.a.get("/getInstitucionIndividual/"+r).then((function(e){m(e.data[0].contenido),g(e.data[0].titulo)}))}),[r]),Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),X(!0)):(console.log("no estoy autorizado"+e.data.authorized),window.location="/")}))}),[]),Object(u.jsx)(u.Fragment,{children:W&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{ckassName:"row",children:[Object(u.jsx)("div",{className:"lg-3"}),Object(u.jsxs)("div",{className:"lg-9 mt-5",children:[Object(u.jsx)("h1",{className:"mb-3",children:"Formulario Institucion"}),""!==I&&Object(u.jsx)("p",{className:"alert alert-success",children:I}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("h2",{children:"T\xedtulo"}),Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese el t\xedtulo",name:"titulo",required:"required",onChange:function(e){g(e.target.value)},ref:s,value:f}),(null===(e=i.titulo)||void 0===e?void 0:e.message)&&Object(u.jsx)("p",{className:"aler alert-danger",children:null===(t=i.titulo)||void 0===t?void 0:t.message}),Object(u.jsx)("p",{className:"mt-2",children:"Seleccione un archivo si desea subir uno opcional"}),Object(u.jsxs)("div",{className:"custom-file ",children:[Object(u.jsx)("input",{type:"file",className:"custom-file-input",id:"customFile",onChange:function(e){z(e.target.files[0]),J(e.target.files[0].name)}}),Object(u.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:$})]})]}),Object(u.jsx)("h2",{children:"Contenido"}),Object(u.jsx)(Te.CKEditor,{editor:De.a,data:d,onChange:function(e,t){var a=t.getData();m(a)},config:{toolbar:["heading","|","bold","italic","|","link","numberedList","bulletedList","|","insertTable","tableColumn","tableRow","|","undo","redo"]}}),""!==S&&Object(u.jsx)("p",{className:"alert alert-danger",children:S}),Object(u.jsxs)("div",{className:"contenido-servicio mt-3 mb-3",children:[Object(u.jsx)("h1",{children:"Previsualizaci\xf3n"}),qe()(d)]})]}),Object(u.jsxs)("div",{className:"lg-3",children:[Object(u.jsx)("button",{className:"mt-3",onClick:n(ee),children:"Editar"}),"Se ha editado con \xe9xito"===I&&Object(u.jsx)("p",{className:"alert alert-success",children:I}),"ha ocurrido un error"===P&&Object(u.jsx)("p",{className:"alert alert-danger",children:P})]})]})}),Object(u.jsx)(V,{})]})})},We=function(){var e=Object(l.g)().id,t=Object(c.useState)(""),a=Object(O.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(""),r=Object(O.a)(i,2),j=r[0],d=r[1],m=Object(c.useState)(!1),h=Object(O.a)(m,2),x=h[0],f=h[1];return p.a.defaults.withCredentials=!0,Object(c.useEffect)((function(){p.a.get("/getCardIndividual/"+e).then((function(e){console.log(e.data[0]),n(e.data[0].contenido),d(e.data[0].file)}))}),[e]),Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),f(!0)):console.log("no estoy autorizado"+e.data.authorized)}))}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-lg-12 mt-5",children:[Object(u.jsx)("div",{className:"contenido-servicio mt-3 mb-3",children:qe()(s)}),j&&Object(u.jsxs)(o.b,{to:j,target:"_blank",children:[Object(u.jsx)(U.a,{className:"avisoFile"}),Object(u.jsx)("p",{children:"Descargar documento"})]}),x&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("button",{className:"button",children:Object(u.jsx)(o.b,{to:"/editarCard/".concat(e),className:"link",children:"Editar"})})})]})})}),Object(u.jsx)(V,{})]})},Xe=function(){var e=Object(l.g)().id,t=Object(c.useState)(""),a=Object(O.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(""),r=Object(O.a)(i,2),o=r[0],j=r[1],d=Object(c.useState)(""),m=Object(O.a)(d,2),h=m[0],x=m[1],f=Object(c.useState)(""),g=Object(O.a)(f,2),N=g[0],C=g[1],S=Object(c.useState)(""),w=Object(O.a)(S,2),k=w[0],y=w[1],F=Object(c.useState)({}),z=Object(O.a)(F,2),E=(z[0],z[1]),T=Object(c.useState)(""),I=Object(O.a)(T,2),D=(I[0],I[1]),A=Object(c.useState)("Elige un archivo"),q=Object(O.a)(A,2),P=q[0],L=q[1],R=Object(c.useState)(!1),M=Object(O.a)(R,2),G=M[0],B=M[1];p.a.defaults.withCredentials=!0;var _=function(t){p.a.post("/editarCard",{id:e,value:s,file:t}).then((function(e){C(e.data.mensaje),y(e.data.mensajeError),L("Elige un archivo"),setTimeout((function(){C("")}),5e3),setTimeout((function(){y("")}),5e3),x("")}))},H=function(){var t=Object(ne.a)(se.a.mark((function t(){var a,c,n,i,r;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("sim\xf3n"),""!==s&&null!==s){t.next=6;break}j("No se puede dejar vaci\xf3 el campo del contenido de la nota"),setTimeout((function(){j("")}),5e3),t.next=25;break;case 6:if((a=new FormData).append("file",h),console.log(a),console.log(h),""===h&&p.a.post("/uploadsCard-editDel/".concat(e)).then((function(e){var t=e.data.filePath;_(t)})),""===h){t.next=25;break}return t.prev=12,t.next=15,p.a.post("/uploads-editCard/".concat(e),a,{headers:{"Content-Type":"multipart/form-data"}});case 15:c=t.sent,n=c.data,i=n.fileName,r=n.filePath,E({fileName:i,filePath:r}),D("Archivo subido"),_(r),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(12),500===t.t0.response.status?D("Hubo un problema con el servidor"):D(t.t0.response.data.msg);case 25:case"end":return t.stop()}}),t,null,[[12,22]])})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){p.a.get("/getCardIndividual/"+e).then((function(e){n(e.data[0].contenido),console.log(e.data[0])}))}),[e]),Object(c.useEffect)((function(){p.a.get("/getToken",{}).then((function(e){!0===e.data.authorized?(console.log("estoy autorizado "+e.data.authorized),B(!0)):(console.log("no estoy autorizado"+e.data.authorized),window.location="/")}))}),[]),Object(u.jsx)(u.Fragment,{children:G&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{ckassName:"row",children:[Object(u.jsx)("div",{className:"lg-3"}),Object(u.jsxs)("div",{className:"lg-9 mt-5",children:[Object(u.jsx)("h1",{className:"mb-3",children:"Formulario Card"}),""!==N&&Object(u.jsx)("p",{className:"alert alert-success",children:N}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("p",{className:"mt-2",children:"Seleccione un archivo si desea subir uno opcional"}),Object(u.jsxs)("div",{className:"custom-file ",children:[Object(u.jsx)("input",{type:"file",className:"custom-file-input",id:"customFile",onChange:function(e){x(e.target.files[0]),L(e.target.files[0].name)}}),Object(u.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:P})]})]}),Object(u.jsx)("h2",{children:"Contenido"}),Object(u.jsx)(Te.CKEditor,{editor:De.a,data:s,onChange:function(e,t){var a=t.getData();n(a)},config:{toolbar:["heading","|","bold","italic","|","link","numberedList","bulletedList","|","insertTable","tableColumn","tableRow","|","undo","redo"]}}),""!==o&&Object(u.jsx)("p",{className:"alert alert-danger",children:o}),Object(u.jsxs)("div",{className:"contenido-servicio mt-3 mb-3",children:[Object(u.jsx)("h1",{children:"Previsualizaci\xf3n"}),qe()(s)]})]}),Object(u.jsxs)("div",{className:"lg-3",children:[Object(u.jsx)("button",{className:"mt-3",onClick:H,children:"Editar"}),"Se ha editado con \xe9xito"===N&&Object(u.jsx)("p",{className:"alert alert-success",children:N}),"ha ocurrido un error"===k&&Object(u.jsx)("p",{className:"alert alert-danger",children:k})]})]})}),Object(u.jsx)(V,{})]})})},Ze=function(){var e=Object(c.useState)(""),t=Object(O.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(""),i=Object(O.a)(n,2),r=i[0],l=i[1],j=Object(c.useState)(""),d=Object(O.a)(j,2),m=d[0],h=d[1],f=Object(c.useState)(0),g=Object(O.a)(f,2),N=g[0],C=g[1];p.a.defaults.withCredentials=!0;var S=function(){var e=Object(ne.a)(se.a.mark((function e(t){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==a&&""!==r&&""!==m?p.a.post("/sendContacto",{asunto:a,mensaje:r,correo:m}).then((function(){C(1),document.getElementById("formContacto").reset(),setTimeout((function(){C(0)}),2e3),s(""),l("")})):(C(2),setTimeout((function(){C(0)}),2e3));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{}),Object(u.jsx)(W.a,{fluid:!0,className:"mt-5 mb-5",children:Object(u.jsxs)(X.a,{children:[Object(u.jsx)(Z.a,{lg:4}),Object(u.jsx)(Z.a,{lg:4,children:Object(u.jsxs)(ie.a,{id:"formContacto",children:[1===N&&Object(u.jsx)(re,{mensaje:"Correo enviado correctamente"}),2===N&&Object(u.jsx)(oe,{mensaje:"Rellenar todos los campos"}),Object(u.jsxs)(ie.a.Group,{controlId:"correo",children:[Object(u.jsx)(ie.a.Label,{children:"Correo"}),Object(u.jsx)(ie.a.Control,{type:"text",placeholder:"Ingrese su correo",onChange:function(e){h(e.target.value)}})]}),Object(u.jsxs)(ie.a.Group,{controlId:"asunto",children:[Object(u.jsx)(ie.a.Label,{children:"Asunto"}),Object(u.jsx)(ie.a.Control,{type:"text",placeholder:"Ingrese el asunto",onChange:function(e){s(e.target.value)}})]}),Object(u.jsxs)(ie.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(u.jsx)(ie.a.Label,{children:"Mensaje"}),Object(u.jsx)(ie.a.Control,{as:"textarea",rows:3,placeholder:"Ingrese el mensaje",onChange:function(e){l(e.target.value)}})]}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(x.a,{variant:"primary",onClick:S,children:"Enviar correo"}),Object(u.jsx)(x.a,{children:Object(u.jsx)(o.b,{to:"/",className:"link",children:"Regresar"})})]})]})}),Object(u.jsx)(Z.a,{lg:4})]})}),Object(u.jsx)(V,{})]})};var et=function(){return Object(u.jsx)("div",{children:Object(u.jsx)(o.a,{children:Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{exact:!0,path:"/",children:Object(u.jsx)(ae,{})}),Object(u.jsx)(l.a,{path:"/login",children:Object(u.jsx)(Ne,{})}),Object(u.jsx)(l.a,{path:"/formularioAvisos",children:Object(u.jsx)(le,{})}),Object(u.jsx)(l.a,{path:"/formularioCarreras",children:Object(u.jsx)(je,{})}),Object(u.jsx)(l.a,{path:"/formularioCarousell",children:Object(u.jsx)(de,{})}),Object(u.jsx)(l.a,{path:"/formularioMoodle",children:Object(u.jsx)(ue,{})}),Object(u.jsx)(l.a,{path:"/editarAviso/:id",children:Object(u.jsx)(Oe,{})}),Object(u.jsx)(l.a,{path:"/eliminarAviso/:id",children:Object(u.jsx)(me,{})}),Object(u.jsx)(l.a,{path:"/editarCarrera/:id",children:Object(u.jsx)(he,{})}),Object(u.jsx)(l.a,{path:"/eliminarCarrera/:id",children:Object(u.jsx)(xe,{})}),Object(u.jsx)(l.a,{path:"/editarMoodle/:id",children:Object(u.jsx)(ze,{})}),Object(u.jsx)(l.a,{path:"/eliminarMoodle/:id",children:Object(u.jsx)(Ee,{})}),Object(u.jsx)(l.a,{path:"/crudMoodle",children:Object(u.jsx)(Fe,{})}),Object(u.jsx)(l.a,{path:"/ofertaAcademica/:id",children:Object(u.jsx)(be,{})}),Object(u.jsx)(l.a,{path:"/pruebaModal",children:Object(u.jsx)(H,{})}),Object(u.jsx)(l.a,{path:"/mapaSitio",children:Object(u.jsx)(ye,{})}),Object(u.jsx)(l.a,{path:"/contacto",children:Object(u.jsx)(Ze,{})}),Object(u.jsx)(l.a,{exact:!0,path:"/reset",children:Object(u.jsx)(Ce,{})}),Object(u.jsx)(l.a,{path:"/reset/:token",children:Object(u.jsx)(we,{})}),Object(u.jsx)(l.a,{path:"/menu",children:Object(u.jsx)(ke,{})}),Object(u.jsx)(l.a,{path:"/formularioServicios",children:Object(u.jsx)(Le,{})}),Object(u.jsx)(l.a,{path:"/ServiciosIndividual/:id",children:Object(u.jsx)(Re,{})}),Object(u.jsx)(l.a,{path:"/editarServicio/:id",children:Object(u.jsx)(Ge,{})}),Object(u.jsx)(l.a,{path:"/formularioAlumnos",children:Object(u.jsx)(_e,{})}),Object(u.jsx)(l.a,{path:"/AlumnosIndividual/:id",children:Object(u.jsx)(He,{})}),Object(u.jsx)(l.a,{path:"/editarAlumno/:id",children:Object(u.jsx)(Ke,{})}),Object(u.jsx)(l.a,{path:"/formularioInstitucion",children:Object(u.jsx)($e,{})}),Object(u.jsx)(l.a,{path:"/InstitucionIndividual/:id",children:Object(u.jsx)(Je,{})}),Object(u.jsx)(l.a,{path:"/editarInstitucion/:id",children:Object(u.jsx)(Ue,{})}),Object(u.jsx)(l.a,{path:"/CardIndividual/:id",children:Object(u.jsx)(We,{})}),Object(u.jsx)(l.a,{path:"/editarCard/:id",children:Object(u.jsx)(Xe,{})})]})})})};i.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)("div",{children:Object(u.jsx)(et,{})})}),document.getElementById("root")),r()}},[[400,1,2]]]);
//# sourceMappingURL=main.633abd4d.chunk.js.map